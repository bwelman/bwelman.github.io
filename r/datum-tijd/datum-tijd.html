<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="nl" xml:lang="nl"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.37">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-11-01">

<title>Datum en Tijd objecten in R – Archief Ben</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/logo.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-29e2c20b02301cfff04dc8050bf30c7e.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-6f70153eeb655323a5f373ce4e1afce3.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Geen resultaten",
    "search-matching-documents-text": "Gevonden documenten",
    "search-copy-link-title": "Kopieer link om te zoeken",
    "search-hide-matches-text": "Extra overeenkomsten verbergen",
    "search-more-match-text": "meer overeenkomst in dit document",
    "search-more-matches-text": "meer overeenkomsten in dit document",
    "search-clear-button-title": "Wissen",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Annuleren",
    "search-submit-button-title": "Verzenden",
    "search-label": "Zoeken"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-DZG4072LJ3"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-DZG4072LJ3', { 'anonymize_ip': true});
</script>
<style>html{ scroll-behavior: smooth; }</style>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../images/logo-transparant.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Archief Ben</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Zoeken"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Schakel navigatie" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../access.html"> 
<span class="menu-text">Access</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../excel.html"> 
<span class="menu-text">Excel</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../bier.html"> 
<span class="menu-text">Bier</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../chemie.html"> 
<span class="menu-text">Chemie</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../r.html"> 
<span class="menu-text">R</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../divers.html"> 
<span class="menu-text">Divers</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../tutorials.html"> 
<span class="menu-text">Tutorials</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Op deze pagina</h2>
   
  <ul>
  <li><a href="#inleiding" id="toc-inleiding" class="nav-link active" data-scroll-target="#inleiding">Inleiding</a>
  <ul class="collapse">
  <li><a href="#de-datum--en-tijdformaten" id="toc-de-datum--en-tijdformaten" class="nav-link" data-scroll-target="#de-datum--en-tijdformaten">De datum- en tijdformaten</a></li>
  </ul></li>
  <li><a href="#standaard-base-objecten" id="toc-standaard-base-objecten" class="nav-link" data-scroll-target="#standaard-base-objecten">Standaard (base) objecten</a>
  <ul class="collapse">
  <li><a href="#datum--en-tijdobjecten-maken" id="toc-datum--en-tijdobjecten-maken" class="nav-link" data-scroll-target="#datum--en-tijdobjecten-maken">Datum- en tijdobjecten maken</a></li>
  <li><a href="#datumobjecten-importeren" id="toc-datumobjecten-importeren" class="nav-link" data-scroll-target="#datumobjecten-importeren">Datumobjecten importeren</a>
  <ul class="collapse">
  <li><a href="#functie-format" id="toc-functie-format" class="nav-link" data-scroll-target="#functie-format">Functie format</a></li>
  <li><a href="#numerieke-datumobjecten-verwerken" id="toc-numerieke-datumobjecten-verwerken" class="nav-link" data-scroll-target="#numerieke-datumobjecten-verwerken">Numerieke datumobjecten verwerken</a></li>
  </ul></li>
  <li><a href="#tijdobjecten-importeren" id="toc-tijdobjecten-importeren" class="nav-link" data-scroll-target="#tijdobjecten-importeren">Tijdobjecten importeren</a></li>
  <li><a href="#datum--of-tijdindex-maken" id="toc-datum--of-tijdindex-maken" class="nav-link" data-scroll-target="#datum--of-tijdindex-maken">Datum- of tijdindex maken</a></li>
  </ul></li>
  <li><a href="#lubridate" id="toc-lubridate" class="nav-link" data-scroll-target="#lubridate">Lubridate</a>
  <ul class="collapse">
  <li><a href="#huidige-datum-en-tijd" id="toc-huidige-datum-en-tijd" class="nav-link" data-scroll-target="#huidige-datum-en-tijd">Huidige datum en tijd</a></li>
  <li><a href="#schrikkeljaar" id="toc-schrikkeljaar" class="nav-link" data-scroll-target="#schrikkeljaar">Schrikkeljaar</a></li>
  <li><a href="#dagen-per-maand" id="toc-dagen-per-maand" class="nav-link" data-scroll-target="#dagen-per-maand">Dagen per maand</a></li>
  <li><a href="#extraheer-datumonderdelen" id="toc-extraheer-datumonderdelen" class="nav-link" data-scroll-target="#extraheer-datumonderdelen">Extraheer datumonderdelen</a></li>
  <li><a href="#tijdzones" id="toc-tijdzones" class="nav-link" data-scroll-target="#tijdzones">Tijdzones</a></li>
  <li><a href="#tijdsduur-perioden-en-intervallen" id="toc-tijdsduur-perioden-en-intervallen" class="nav-link" data-scroll-target="#tijdsduur-perioden-en-intervallen">Tijdsduur, perioden en intervallen</a>
  <ul class="collapse">
  <li><a href="#tijdsduren" id="toc-tijdsduren" class="nav-link" data-scroll-target="#tijdsduren">Tijdsduren</a></li>
  <li><a href="#periodes" id="toc-periodes" class="nav-link" data-scroll-target="#periodes">Periodes</a></li>
  <li><a href="#intervallen" id="toc-intervallen" class="nav-link" data-scroll-target="#intervallen">Intervallen</a></li>
  </ul></li>
  <li><a href="#rekenen-met-datums" id="toc-rekenen-met-datums" class="nav-link" data-scroll-target="#rekenen-met-datums">Rekenen met datums</a>
  <ul class="collapse">
  <li><a href="#optellen" id="toc-optellen" class="nav-link" data-scroll-target="#optellen">optellen</a></li>
  <li><a href="#aftrekken" id="toc-aftrekken" class="nav-link" data-scroll-target="#aftrekken">aftrekken</a></li>
  <li><a href="#vergelijken" id="toc-vergelijken" class="nav-link" data-scroll-target="#vergelijken">vergelijken</a></li>
  <li><a href="#afronden" id="toc-afronden" class="nav-link" data-scroll-target="#afronden">afronden</a></li>
  </ul></li>
  <li><a href="#datum-tijd-problemen" id="toc-datum-tijd-problemen" class="nav-link" data-scroll-target="#datum-tijd-problemen">Datum-Tijd problemen</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Datum en Tijd objecten in R</h1>
  <div class="quarto-categories">
    <div class="quarto-category">r</div>
  </div>
  </div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Publicatiedatum</div>
    <div class="quarto-title-meta-contents">
      <p class="date">1 november 2024</p>
    </div>
  </div>
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">Samenvatting</div>
    <p>Het gebruik van datum/tijd objecten in standaard R en met lubridate.</p>
  </div>
</div>


</header>


<section id="inleiding" class="level1">
<h1>Inleiding</h1>
<p>Met name voor tijdreeksen zijn datum/tijd objecten van belang. Het belangrijkste kenmerk van tijdreeksgegevens is de tijdstempel, die een datumobject, tijdobject of ander indexformaat kan zijn, afhankelijk van de reeksfrequentie. Normaal gesproken is het niet eenvoudig om het datum- of tijdobject geformatteerd en klaar voor gebruik te hebben tijdens het laden van ruwe gegevens. Daarom is het waarschijnlijk dat de ruwe data wat herformattering nodig heeft voordat je de data kunt transformeren naar een time series-formaat.</p>
<section id="de-datum--en-tijdformaten" class="level2">
<h2 class="anchored" data-anchor-id="de-datum--en-tijdformaten">De datum- en tijdformaten</h2>
<p>Een van de grootste uitdagingen bij het werken met datum- en tijdobjecten is de verscheidenheid aan formaten die kunnen worden gebruikt voor het weergeven van datum en tijd. De meeste gangbare kalendersystemen gebruiken bijvoorbeeld een alfabetische vorm om de drie datumcomponenten weer te geven:</p>
<ul>
<li><p><code>Y</code>: Verwijst naar het jaar, dat kan worden weergegeven in de notatie <code>yy</code> (tweecijferig jaartal, bijvoorbeeld 23) of <code>yyyy</code> (viercijferig jaartal, bijvoorbeeld 2023).</p></li>
<li><p><code>M</code>: Verwijst naar de maand. Hier zijn er vier methoden om de maand weer te geven:</p>
<ul>
<li><p><code>m</code>: Eencijferige maand (1, 2, …,9))</p></li>
<li><p><code>mm</code>: Tweecijferige maand (01, 02, …)</p></li>
<li><p><code>mmm</code>: Drieletterige afkorting voor een maand (Jan, Feb,…)</p></li>
<li><p><code>mmmm</code>: Volledige naam van de maand(January, February, …)</p></li>
</ul></li>
<li><p><code>D</code>: Verwijst naar de dag. Op een vergelijkbare manier als de maand, zijn er vier methoden om het weer te geven</p>
<ul>
<li><p><code>d</code>: Eencijferige dag (1, 2, …, 9)</p></li>
<li><p><code>dd</code>: Tweecijferige dag (01, 02, …)</p></li>
<li><p><code>ddd</code>: Drieletterige afkoring voor de naam van de dag (Mon, Tue, …</p></li>
<li><p><code>dddd</code>: Volledige naam van de dag (Monday, Tuesday, …)</p></li>
</ul></li>
</ul>
<p>Bovendien gebruikt elk land of elke regio een andere volgorde om de datumcomponenten weer te geven. Dit maakt het allemaal wat lastig om met datum en tijdobjecten te werken. Hierna worden zowel de standaard hulpmiddelen in R besproken als de mogelijkheden die package lubridate biedt.</p>
</section>
</section>
<section id="standaard-base-objecten" class="level1">
<h1>Standaard (base) objecten</h1>
<p>Package <code>base</code>, een van de kernpakketten van R, biedt twee typen datum- en tijdklassen:</p>
<ol type="1">
<li><p><code>Date</code>: Dit is een eenvoudige weergave van een kalenderdatum volgens de ISO 8601 internationale standaardindeling (of de Gregoriaanse kalenderindeling) met de <code>YYYY-m-d</code> datumindeling. Elk datumobject heeft een numerieke waarde van het aantal dagen sinds het oorsprongspunt (de standaardinstelling is 1970-01-01). Het is zinvol om deze indeling te gebruiken wanneer de frequentie van de gegevens dagelijks of lager is (bijvoorbeeld, maandelijks, per kwartaal, enzovoort) en het tijdstip van de dag er niet toe doet.</p></li>
<li><p><code>POSIXct/POSIXlt</code>: Ook bekend als de <code>DateTime</code> classes (dat wil zeggen, ze vertegenwoordigen zowel datum als tijd), dit zijn twee POSIX date/time classes die de kalenderdatum, de tijd van de dag en de tijdzone vertegenwoordigen met behulp van de ISO 8601 internationale standaardindeling van <code>YYYY-m-d H:M:S</code>. Het belangrijkste verschil tussen de twee is de vorm waarin de waarden intern worden opgeslagen.</p>
<ul>
<li><p>De <code>POSIXct</code> class, vergelijkbaar met de <code>Date</code> class, vertegenwoordigt het aantal seconden sinds het oorsprongspunt (1970-01-01, UTC-tijdzone) als een numerieke vector.</p></li>
<li><p>De <code>POSIXlt</code> class slaat elk van de datum- en tijdelementen op als een llist.</p></li>
</ul></li>
</ol>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Opmerking
</div>
</div>
<div class="callout-body-container callout-body">
<p>Voor het gemak zal in dit document een datumobject naar de <code>Date</code> class verwijzen en een tijdobject naar de <code>POSIXct/POSIXlt</code> class (tenzij anders vermeld).</p>
<p>Het is zinvol om een tijdsobject (<code>POSIXct</code> of <code>POSXlt</code>) alleen te gebruiken als de frequentie in de tijdreeks hoger is dan dagelijks (zoals elk uur, elk half uur, per minuut of per seconde). Anders wordt het omwille van de eenvoud aanbevolen om het datumobject te gebruiken.</p>
</div>
</div>
<p>Met de functies <code>Sys.Date()</code> en <code>Sys.time()</code> zullen nu de verschillen tussen datum- en tijdobjecten vergeleken worden.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>datum <span class="ot">&lt;-</span> <span class="fu">Sys.Date</span>()</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>datum</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-11-01"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>tijd_ct <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>tijd_ct</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-11-01 14:47:03 CET"</code></pre>
</div>
</div>
<p>En de classes van de twee objecten:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(datum)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Date"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(tijd_ct)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "POSIXct" "POSIXt" </code></pre>
</div>
</div>
<p>Standaard retourneert de Sys.time() functie een object van de classes POSIXct, POSIXt. Je kunt de functie <code>as.POSIXlt()</code> functie gebruiken om het object naar een POSIXlt obtect te converteren.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>tijd_lt <span class="ot">&lt;-</span> <span class="fu">as.POSIXlt</span>(tijd_ct)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>tijd_lt</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-11-01 14:47:03 CET"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(tijd_lt)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "POSIXlt" "POSIXt" </code></pre>
</div>
</div>
<p>Hoewel zowel de POSIXct- als POSIXlt- objecten dezelfde representatie hebben, zit het belangrijkste verschil tussen de twee in de methode waarmee elk object intern wordt opgeslagen in de tijdsdetails. Met de opdracht <code>unclass()</code> kun je het object strippen tot het formaat waarin het intern is opgeslagen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(tijd_ct)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1730468823</code></pre>
</div>
</div>
<p>Het POSIXct object slaat de numerieke waarde</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(tijd_lt)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$sec
[1] 3.07783

$min
[1] 47

$hour
[1] 14

$mday
[1] 1

$mon
[1] 10

$year
[1] 124

$wday
[1] 5

$yday
[1] 305

$isdst
[1] 0

$zone
[1] "CET"

$gmtoff
[1] 3600

attr(,"tzone")
[1] ""     "CET"  "CEST"
attr(,"balanced")
[1] TRUE</code></pre>
</div>
</div>
<p>Toelichting</p>
<ul>
<li><p><code>sec</code>: De seconden van het tijdobject.</p></li>
<li><p><code>min</code>: De minuten van het tijdobject.</p></li>
<li><p><code>hour</code>: De uren van het tijdobject (24-uur aanduiding).</p></li>
<li><p><code>mday</code>: De dag van de maand.</p></li>
<li><p><code>month</code>: De maand van het jaar.</p></li>
<li><p><code>year</code>: Het aantal jaren sinds 1900 (bijvoorbeeld, 124 voor 2024).</p></li>
<li><p><code>wday</code>: De dag van de week weergegeven door een geheel getal tussen 0 en 6 (met 0 voor zondag).</p></li>
<li><p><code>isdst</code>: Zomertijdvlag..</p></li>
<li><p><code>yday</code>: De dag van het jaar, een geheel getal tussen 0 en 365.</p></li>
<li><p><code>zone</code>: De tijdzone. Merk op dat de tijdzone wordt gedefinieerd door de gedefinieerde tijdzone van de computer.</p></li>
<li><p><code>gmtoff</code>: De afwijking in seconden ten opzichte van GMT.</p></li>
</ul>
<section id="datum--en-tijdobjecten-maken" class="level2">
<h2 class="anchored" data-anchor-id="datum--en-tijdobjecten-maken">Datum- en tijdobjecten maken</h2>
<p>R heeft een structurele methode om waarden toe te wijzen aan een specifieke class of object, wat meestal een combinatie is van <code>as.class-naam</code>. Bijvoorbeeld <code>as.character()</code>, <code>as.Date()</code>, <code>as.POSIXlt()</code>, <code>as.POSIXct()</code>.</p>
<p>Zo kun je de tekst “2024-10-31” omzetten in een <code>Date</code> object met</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>mijndatum <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2024-10-31"</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>mijndatum</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-10-31"</code></pre>
</div>
</div>
<p>De functies <code>as.POSIXct()</code> en <code>as.POSIXlt()</code> werken op een vergelijkbare manier.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>mijntijdstip <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="st">"2024-10-31 18:25:14"</span>, <span class="at">tz=</span><span class="st">"CET"</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>mijntijdstip</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-10-31 18:25:14 CET"</code></pre>
</div>
</div>
</section>
<section id="datumobjecten-importeren" class="level2">
<h2 class="anchored" data-anchor-id="datumobjecten-importeren">Datumobjecten importeren</h2>
<p>Het importeren van datum- en tijdobjecten naar een programmeertaal kan om verschillende redenen een lastig proces zijn:</p>
<ul>
<li><p>Eer is geen duidelijke standaard voor datum- of tijdobjecten. Hoewel R het ISO 8601-formaat heeft overgenomen, hoeft dat bij andere software niet zo te zijn.</p></li>
<li><p>De instelling van het oorsprongspunt (of het referentiepunt) varieert tussen de software:</p>
<ul>
<li><p>R: 1 januari 197</p></li>
<li><p>SAS: 1 januari 1960</p></li>
<li><p>Excel: 1 januari 1900</p></li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Opmerking
</div>
</div>
<div class="callout-body-container callout-body">
<p>Als in R het argument <code>stringsAsFactors</code> is ingesteld op <code>TRUE</code>, dan worden de waarden als categorieen geclassificeerd.</p>
</div>
</div>
<p>Je kunt de functie <code>as.Date()</code> gebruiken om een datum te importeren welke afwijkt van de ISO 8601 norm. Echter wanneer je daarbij niet aangeeft in welk formaat deze datum staat, dan kan dat onjuiste resultaten opleveren. Zie het volgende voorbeeld:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.Date</span>(<span class="st">"31-12-2023"</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "0031-12-20"</code></pre>
</div>
</div>
<p>Je kunt dit oplossen door in de functie het argument <code>format</code> toe te voegen om de verschillende componenten in het invoerobject te definieren.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.Date</span>(<span class="st">"31-12-2023"</span>, <span class="at">format =</span> <span class="st">"%d-%m-%Y"</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-12-31"</code></pre>
</div>
</div>
<p>De volgende tabel geeft een samenvatting van de belangrijkste componenten voor datumobjecten. De volledige lijst kun je inzien via <code>?strptime</code>.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Symbool</th>
<th>Betekenis</th>
<th>Voorbeeld</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>%a</td>
<td>Afgekorte naam van de weekdag.</td>
<td>Sun</td>
</tr>
<tr class="even">
<td>%A</td>
<td>Volledige naam weekdag.</td>
<td>Sunday</td>
</tr>
<tr class="odd">
<td>%b</td>
<td>Afgekorte naam van de maand.</td>
<td>Jan</td>
</tr>
<tr class="even">
<td>%B</td>
<td>Volledige naam van de maand.</td>
<td>January</td>
</tr>
<tr class="odd">
<td>%d</td>
<td>Dag van de maand als getal.</td>
<td>01, 31</td>
</tr>
<tr class="even">
<td>%m</td>
<td>Maand als getal</td>
<td>01, 12</td>
</tr>
<tr class="odd">
<td>%y</td>
<td>Jaar zonder eeuw (2 cijfers)</td>
<td>23</td>
</tr>
<tr class="even">
<td>%Y</td>
<td>Jaar met eeuw (4 cijfers)</td>
<td>2023</td>
</tr>
<tr class="odd">
<td>%r</td>
<td>12 / 24 uurs klok</td>
<td>AM, PM</td>
</tr>
<tr class="even">
<td>%H</td>
<td>Uren als getal</td>
<td>00, 23</td>
</tr>
<tr class="odd">
<td>%M</td>
<td>Minuten als getal</td>
<td>00, 59</td>
</tr>
<tr class="even">
<td>%S</td>
<td>Seconden als getal</td>
<td>00, 59</td>
</tr>
<tr class="odd">
<td>%Z</td>
<td>Tijzone afkorting als tekenreeks</td>
<td>CET, GMT</td>
</tr>
</tbody>
</table>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Opmerking
</div>
</div>
<div class="callout-body-container callout-body">
<p>Hierbij worden de huidige landinstellingen gebruikt. De scheidingstekens tussen de argumenten moeten overeenkomen met die in het invoerobject.</p>
</div>
</div>
<section id="functie-format" class="level3">
<h3 class="anchored" data-anchor-id="functie-format">Functie format</h3>
<p>De componenten in voorgaande tabel kun je ook gebruiken om een datum op te maken met de functie <code>format()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">format</span>(mijndatum, <span class="st">"%A, %d %B %Y"</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "donderdag, 31 oktober 2024"</code></pre>
</div>
</div>
</section>
<section id="numerieke-datumobjecten-verwerken" class="level3">
<h3 class="anchored" data-anchor-id="numerieke-datumobjecten-verwerken">Numerieke datumobjecten verwerken</h3>
<p>Datumobjecten worden intern in R opgeslagen als numerieke waarden die het aantal dagen vanaf het beginpunt (1 januari 1970) weergeven.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>datum1 <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"1970-01-01"</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>datum2 <span class="ot">&lt;-</span> <span class="fu">Sys.Date</span>()</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>datum2 <span class="sc">-</span> datum1</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Time difference of 20028 days</code></pre>
</div>
</div>
<p>Je kunt de numerieke waarde van het object eenvoudig ophalen met de functie <code>as.numeric()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(datum1)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(datum2)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 20028</code></pre>
</div>
</div>
</section>
</section>
<section id="tijdobjecten-importeren" class="level2">
<h2 class="anchored" data-anchor-id="tijdobjecten-importeren">Tijdobjecten importeren</h2>
<p>Zoals je <code>as.Date()</code> gebruikt voor datumobjecten, kun je <code>as.POSIXct()</code> of <code>as.POSIXlt()</code> gebruiken voor tijdobjecten. De <code>POSIX</code> classes zijn een uitbreiding van de <code>Date</code> class, met de toevoeging van vier elementen (naast de datumelementen): uren, minuten, seconden en tijdzone. Dit maakt het herformatteringsproces iets omslachtiger, omdat de toewijzing nu zeven elementen bevat in plaats van vier elementen, zoals voorheen het geval was.</p>
<p>De numerieke waarde van het tijdobject vertegenwoordigt het aantal seconden sinds het oorsprongspunt (1 januari 1970).</p>
<p>De actuele tijzone kun je opvragen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Sys.timezone</span>()</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Europe/Amsterdam"</code></pre>
</div>
</div>
</section>
<section id="datum--of-tijdindex-maken" class="level2">
<h2 class="anchored" data-anchor-id="datum--of-tijdindex-maken">Datum- of tijdindex maken</h2>
<p>Voor tijdreeksen is het belangrijkste kenmerk de tijdindex (tijdstempel), een gelijkmatig verdeeld tijdsinterval. Voor het genereren van een reeks biedt R standaard twee functies:</p>
<ul>
<li><p><code>seq.Date()</code>: Voor <code>Date</code> objectenmet frequenties dag, week, maand, jaar</p></li>
<li><p><code>seq.POSIXt()</code>: Voor <code>POSIX</code> objecten met frequenties uur, half uur, minuut, …</p></li>
</ul>
<p>Het gebruik van deze functies is eenvoudig.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>dagindex <span class="ot">&lt;-</span> <span class="fu">seq.Date</span>(<span class="at">from =</span> <span class="fu">as.Date</span>(<span class="st">"2023-01-01"</span>), </span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>                     <span class="at">to =</span> <span class="fu">as.Date</span>(<span class="st">"2023-03-31"</span>),</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">by =</span> <span class="st">"day"</span>)</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dagindex)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-01-01" "2023-01-02" "2023-01-03" "2023-01-04" "2023-01-05"
[6] "2023-01-06"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(dagindex)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-03-26" "2023-03-27" "2023-03-28" "2023-03-29" "2023-03-30"
[6] "2023-03-31"</code></pre>
</div>
</div>
<p>Met de argumenten <code>from</code> en <code>to</code> stel je respectievelijk de begin- en einddatum in. In plaats van <code>to</code> kun je ook het argument <code>length.out</code> voor het aantal waarden.</p>
<p>Met het argument <code>by</code> kun je de grootte van het interval instellen, bijvoorbeeld day, week, month, year. Bovendien kun je dit mengen met gehele getallen om nieuwe tijdsintervallen te maken.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>dag3index <span class="ot">&lt;-</span> <span class="fu">seq.Date</span>(<span class="at">from =</span> <span class="fu">as.Date</span>(<span class="st">"2023-01-01"</span>), </span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">length.out =</span> <span class="dv">10</span>,</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">by =</span> <span class="st">"3 days"</span>)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>dag3index</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "2023-01-01" "2023-01-04" "2023-01-07" "2023-01-10" "2023-01-13"
 [6] "2023-01-16" "2023-01-19" "2023-01-22" "2023-01-25" "2023-01-28"</code></pre>
</div>
</div>
<p>Een tijdvoorbeeld met een uurlijkse sequentiee n een lengte van 24 uur:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>uurindex <span class="ot">&lt;-</span><span class="fu">seq.POSIXt</span>(<span class="at">from =</span> <span class="fu">as.POSIXct</span>(<span class="st">"2023-01-01"</span>),</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">length.out =</span> <span class="dv">24</span>,</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">by =</span> <span class="st">"hours"</span>)</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>uurindex</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "2023-01-01 00:00:00 CET" "2023-01-01 01:00:00 CET"
 [3] "2023-01-01 02:00:00 CET" "2023-01-01 03:00:00 CET"
 [5] "2023-01-01 04:00:00 CET" "2023-01-01 05:00:00 CET"
 [7] "2023-01-01 06:00:00 CET" "2023-01-01 07:00:00 CET"
 [9] "2023-01-01 08:00:00 CET" "2023-01-01 09:00:00 CET"
[11] "2023-01-01 10:00:00 CET" "2023-01-01 11:00:00 CET"
[13] "2023-01-01 12:00:00 CET" "2023-01-01 13:00:00 CET"
[15] "2023-01-01 14:00:00 CET" "2023-01-01 15:00:00 CET"
[17] "2023-01-01 16:00:00 CET" "2023-01-01 17:00:00 CET"
[19] "2023-01-01 18:00:00 CET" "2023-01-01 19:00:00 CET"
[21] "2023-01-01 20:00:00 CET" "2023-01-01 21:00:00 CET"
[23] "2023-01-01 22:00:00 CET" "2023-01-01 23:00:00 CET"</code></pre>
</div>
</div>
<p>Mogelijke intervalwaarden:</p>
<p><code>seq.Date()</code>: “day”, “week”, “month”, “quarter”, “year”</p>
<p><code>seq.POXIXt()</code>: “sec”, “min”, “hour”, “day”, “DSTday”, “week”, “month”, “quarter”, “year</p>
</section>
</section>
<section id="lubridate" class="level1">
<h1>Lubridate</h1>
<p>Package <code>lubridate</code> maakt het werken met datum- en tijdobjecten eenvoudiger en effectiever. Nuttige info over het gebruik hiervan kun je o.a. vinden in de <a href="https://lubridate.tidyverse.org/">lubridate website</a> en het boek <a href="https://r4ds.hadley.nz/datetimes.html">R for Data Science</a>.</p>
<p>Een van de sterke punten van <code>lubridate</code> is de mogelijkheid om het parsen van datum- en tijdgegevens van verschillende formaten te vereenvoudigen. Functies zoals <code>ymd()</code>, <code>mdy()</code>, <code>dmy()</code> en hun tegenhangers voor datum en tijd (<code>ymd_hms()</code>, <code>mdy_hms()</code>, etc.) maken het eenvoudig om strings te converteren naar R’s <code>Date</code> of <code>POSIXct</code> objecten.</p>
<p>Functies: <code>ymd()</code>, <code>mdy()</code>, <code>dmy()</code>, <code>ymd_hms()</code>, <code>mdy_hms()</code>, <code>dmy_hms()</code></p>
<ul>
<li><p><code>ymd()</code> parseert een tekenreeks waarbij de datumcomponenten in de volgorde jaar-maand-dag staan.</p></li>
<li><p><code>mdy()</code> parseert een tekenreeks opgemaakt als maand-dag-jaar.</p></li>
<li><p><code>dmy()</code> parseert een tekenreeks in de volgorde dag-maand-jaar.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>mijndatum <span class="ot">&lt;-</span> <span class="fu">dmy</span>(<span class="st">"18-6-1948"</span>)</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>mijndatum</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1948-06-18"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(mijndatum)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Date"</code></pre>
</div>
</div>
<p>Door specifieke functies te gebruiken voor verschillende formaten (<code>ymd()</code>, <code>mdy()</code>, <code>dmy()</code>), hoef je je geen zorgen te maken over de volgorde van datumcomponenten. Dit zorgt voor flexibiliteit en vermindert fouten bij het werken met verschillende gegevensbronnen.</p>
<section id="huidige-datum-en-tijd" class="level2">
<h2 class="anchored" data-anchor-id="huidige-datum-en-tijd">Huidige datum en tijd</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">today</span>() <span class="co"># huidige datum</span></span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-11-01"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">now</span>()   <span class="co"># huidige datum en tijd</span></span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-11-01 14:47:04 CET"</code></pre>
</div>
</div>
</section>
<section id="schrikkeljaar" class="level2">
<h2 class="anchored" data-anchor-id="schrikkeljaar">Schrikkeljaar</h2>
<p>Met de functie <code>leap_year()</code> kun je controleren of een jaar een schrikkeljaar is.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">leap_year</span>(<span class="dv">2023</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">leap_year</span>(<span class="dv">2024</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</section>
<section id="dagen-per-maand" class="level2">
<h2 class="anchored" data-anchor-id="dagen-per-maand">Dagen per maand</h2>
<p>De functie <code>days_in_month</code> retourneert het aantal dagen in de maand. De input moet een datumobject zijn.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>datums <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fu">ymd</span>(<span class="st">"2023-01-01"</span>), <span class="fu">ymd</span>(<span class="st">"2023-12-01"</span>), <span class="at">by =</span> <span class="st">"months"</span>)</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">days_in_month</span>(datums)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec 
 31  28  31  30  31  30  31  31  30  31  30  31 </code></pre>
</div>
</div>
<p>Met schrikkeljaren wordt rekening gehouden.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>datums <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fu">ymd</span>(<span class="st">"2024-01-01"</span>), <span class="fu">ymd</span>(<span class="st">"2024-12-01"</span>), <span class="at">by =</span> <span class="st">"months"</span>)</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">days_in_month</span>(datums)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec 
 31  29  31  30  31  30  31  31  30  31  30  31 </code></pre>
</div>
</div>
</section>
<section id="extraheer-datumonderdelen" class="level2">
<h2 class="anchored" data-anchor-id="extraheer-datumonderdelen">Extraheer datumonderdelen</h2>
<p>Nadat je een datum-tijdobject hebt geparseerd met <code>lubridate</code>, moet je vaak specifieke componenten extraheren of wijzigen, zoals het jaar, de maand, de dag of de tijd. Dit is essentieel bij het analyseren van gegevens op basis van tijdsperioden, het samenvatten per jaar of het maken van tijdgebaseerde kenmerken voor modellen.</p>
<p>Hierbij een overzicht van de meest gebruikte functies.</p>
<ul>
<li><p><code>year()</code>: Extraheert of stelt het jaar in.</p></li>
<li><p><code>month()</code>: Extraheert of stelt de maand in. Deze functie kan ook de naam van de maand teruggeven als <code>label = TRUE</code> wordt gebruikt.</p></li>
<li><p><code>day()</code>: Extraheert of stelt de dag van de maand in.</p></li>
<li><p><code>hour()</code>: Extraheert of stelt het uur in (voor tijdgebaseerde objecten).</p></li>
<li><p><code>minute()</code>: Extraheert of stelt de minuut in.</p></li>
<li><p><code>second()</code>: Extraheert of stelt de seconde in.</p></li>
<li><p><code>wday()</code>: Extraheert de dag van de week (kan de naam van de weekdag retourneren als <code>label = TRUE</code>).</p></li>
<li><p><code>yday()</code>: Extraheert de dag van het jaar (1-365 of 366 voor schrikkeljaren).</p></li>
<li><p><code>mday()</code>: Extraheert de dag van de maand.</p></li>
<li><p><code>week()</code>: Extraheert de week van het jaar (1-52/53)</p></li>
<li><p><code>quarter()</code>: Extraheert het kwartaal van het jaar (1-4)</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>moment <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(<span class="st">"2023-09-30 14:45:30 CEST"</span>)</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>moment</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-09-30 14:45:30 UTC"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">day</span>(moment)    <span class="co"># dag</span></span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 30</code></pre>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">month</span>(moment)  <span class="co"># maandnummer</span></span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 9</code></pre>
</div>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">month</span>(moment, <span class="at">label =</span> <span class="cn">TRUE</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] sep
12 Levels: jan &lt; feb &lt; mrt &lt; apr &lt; mei &lt; jun &lt; jul &lt; aug &lt; sep &lt; ... &lt; dec</code></pre>
</div>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">year</span>(moment)   <span class="co"># jaar</span></span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2023</code></pre>
</div>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hour</span>(moment)   <span class="co"># uur</span></span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14</code></pre>
</div>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">minute</span>(moment) <span class="co"># minuut</span></span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 45</code></pre>
</div>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">second</span>(moment) <span class="co"># seconde</span></span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 30</code></pre>
</div>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wday</span>(moment)   <span class="co"># dag van de week</span></span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wday</span>(moment, <span class="at">label =</span> <span class="cn">TRUE</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] za
Levels: zo &lt; ma &lt; di &lt; wo &lt; do &lt; vr &lt; za</code></pre>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">yday</span>(moment)   <span class="co"># dag van het jaar</span></span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 273</code></pre>
</div>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mday</span>(moment)   <span class="co"># dag van de maand</span></span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 30</code></pre>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">week</span>(moment)   <span class="co"># weeknummer</span></span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 39</code></pre>
</div>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quarter</span>(moment)<span class="co"># kwartaal</span></span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p>Naast extraheren kunt u met <code>lubridate</code> specifieke componenten van een datum of tijd aanpassen zonder handmatig de hele string te manipuleren. Dit is vooral handig als je datums of tijden in je gegevens moet aanpassen voor analyse of uitlijning.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">year</span>(moment) <span class="ot">&lt;-</span> <span class="dv">2024</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="fu">month</span>(moment) <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="fu">day</span>(moment) <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a><span class="fu">hour</span>(moment) <span class="ot">&lt;-</span> <span class="dv">11</span></span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>moment</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-10-03 11:45:30 UTC"</code></pre>
</div>
</div>
</section>
<section id="tijdzones" class="level2">
<h2 class="anchored" data-anchor-id="tijdzones">Tijdzones</h2>
<p>Een ander belangrijk voordeel van <code>lubridate</code> is dat het effectief omgaat met tijdzones bij het extraheren van datum-tijd componenten. Als je met wereldwijde datasets werkt, is het van cruciaal belang om nauwkeurig rekening te kunnen houden met tijdzones.</p>
<p>Met het argument <code>tz="..."</code> of <code>timezone =</code> kun je een tijdzone specificeren, default is Universal Coordinated Time Zone (UTC).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd_hms</span>(<span class="st">"2019-06-04 12:00:00"</span>, <span class="at">tz =</span> <span class="st">"Europe/Amsterdam"</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2019-06-04 12:00:00 CEST"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd_hms</span>(<span class="st">"2019-06-04 12:00:00"</span>, <span class="at">tz =</span> <span class="st">"Europe/Amsterdam"</span>, <span class="at">locale =</span> <span class="fu">Sys.getlocale</span>(<span class="st">"LC_TIME"</span>))</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2019-06-04 12:00:00 CEST"</code></pre>
</div>
</div>
<p><code>with_tz()</code> retourneert een datum-tijd zoals deze in een andere tijdzone zou verschijnen. Het feitelijk gemeten tijdstip verandert niet, alleen de tijdzone waarin het wordt gemeten. <code>with_tz()</code> wordt standaard ingesteld op de Universal Coordinated Time Zone (UTC) wanneer een niet-herkende tijdzone wordt ingevoerd.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>moment</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-10-03 11:45:30 UTC"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with_tz</span>(moment, <span class="at">tz =</span> <span class="st">"America/New_York"</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-10-03 07:45:30 EDT"</code></pre>
</div>
</div>
</section>
<section id="tijdsduur-perioden-en-intervallen" class="level2">
<h2 class="anchored" data-anchor-id="tijdsduur-perioden-en-intervallen">Tijdsduur, perioden en intervallen</h2>
<p>In data-analyse moet je vaak tijdspannes meten, of het nu is om het verschil tussen twee datums te berekenen, terugkerende gebeurtenissen te plannen of op tijd gebaseerde fenomenen te modelleren. <code>lubridate</code> biedt drie krachtige tijdgerelateerde concepten om met deze scenario’s om te gaan: <strong>tijdsduur</strong>, <strong>periode</strong> en <strong>interval</strong>. Hoewel ze op elkaar lijken, dienen ze elk een ander doel en gedragen ze zich anders, afhankelijk van de gebruikssituatie.</p>
<section id="tijdsduren" class="level3">
<h3 class="anchored" data-anchor-id="tijdsduren">Tijdsduren</h3>
<p>Een <strong>duration</strong> is een exacte tijdmeting, uitgedrukt in seconden. Durations zijn handig als je precieze, ondubbelzinnige tijdsverschillen nodig hebt, ongeacht kalendervariaties (zoals schrikkeljaren, variërende maandlengtes of zomertijd).</p>
<p>je kunt een tijdsduur maken met de functie <code>duration(num =, units="...")</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">duration</span>(<span class="dv">120</span>, <span class="st">"seconds"</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "120s (~2 minutes)"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">duration</span>(<span class="dv">2</span>, <span class="st">"days"</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "172800s (~2 days)"</code></pre>
</div>
</div>
<p>Handige functies waarmee je ook een duration kunt maken beginnen met een <code>d</code>: <code>dseconds()</code>, <code>dminutes()</code>, <code>dhours()</code>, <code>ddays()</code>, <code>dweeks()</code>, <code>dyears()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="co"># een tijdsduur van 1 dag</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>een_dag <span class="ot">&lt;-</span> <span class="fu">ddays</span>(<span class="dv">1</span>) </span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>een_dag</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "86400s (~1 days)"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co"># een tijdsduur van twee en een half uur</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>tijdsduur <span class="ot">&lt;-</span> <span class="fu">dhours</span>(<span class="dv">2</span>) <span class="sc">+</span> <span class="fu">dminutes</span>(<span class="dv">30</span>)</span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>tijdsduur</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "9000s (~2.5 hours)"</code></pre>
</div>
</div>
<p>Je kunt ook een tijdduur aan een datum toevoegen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>begin <span class="ot">&lt;-</span> <span class="fu">ymd</span>(<span class="st">"2024-10-08"</span>)</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>eind <span class="ot">&lt;-</span> begin <span class="sc">+</span> <span class="fu">ddays</span>(<span class="dv">7</span>)</span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>eind</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-10-15"</code></pre>
</div>
</div>
<p>Door een duur aan een datum toe te voegen, wordt de datum met het exacte aantal seconden vooruitgezet, ongeacht eventuele onregelmatigheden in de kalender.</p>
</section>
<section id="periodes" class="level3">
<h3 class="anchored" data-anchor-id="periodes">Periodes</h3>
<p>In tegenstelling tot tijdsduren zijn perioden tijdsduren gemeten in menselijke kalendertermen: jaren, maanden, dagen, uren, enz. Perioden houden rekening met kalendervariaties, zoals schrikkeljaren en zomertijd. Dit maakt perioden intuïtiever voor gebruik in de echte wereld, maar minder precies in termen van exacte seconden.</p>
<p>Een periode kun je maken met de functie <code>period(num=, units="...")</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">period</span>(<span class="dv">7</span>, <span class="st">"days"</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "7d 0H 0M 0S"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">period</span>(<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">30</span>), <span class="fu">c</span>(<span class="st">"hour"</span>, <span class="st">"minute"</span>, <span class="st">"second"</span>))</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2H 1M 30S"</code></pre>
</div>
</div>
<p>Andere functies waarmee je een periode kunt maken zijn: <code>years()</code>, <code>months()</code>, <code>weeks()</code>, <code>days()</code>, <code>hours()</code>, <code>minutes()</code>, <code>seconds()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>mijnperiode <span class="ot">&lt;-</span> <span class="fu">years</span>(<span class="dv">2</span>) <span class="sc">+</span> <span class="fu">months</span>(<span class="dv">3</span>) <span class="sc">+</span> <span class="fu">days</span>(<span class="dv">4</span>)</span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>mijnperiode</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2y 3m 4d 0H 0M 0S"</code></pre>
</div>
</div>
<p>De periode houdt rekening met verschillen in kalenderlengte (zoals verschillende dagen in maanden.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>begin</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-10-08"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>begin <span class="sc">+</span> mijnperiode</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2027-01-12"</code></pre>
</div>
</div>
</section>
<section id="intervallen" class="level3">
<h3 class="anchored" data-anchor-id="intervallen">Intervallen</h3>
<p>Een interval vertegenwoordigt de tijdsbestek tussen twee specifieke datums of tijdstippen. Het is handig wanneer je tijdspannes tussen begin- en eindpunten wilt meten of vergelijken. Intervallen houden rekening met de exacte lengte van de tijd tussen twee datums, waardoor je tijdsduren of perioden over het tijdsbestek kunt berekenen.</p>
<p>Een interval maak je met de functie <code>interval(begin, eind)</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>startdatum <span class="ot">&lt;-</span> <span class="fu">ymd</span>(<span class="st">"2020-01-03"</span>)</span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>einddatum <span class="ot">&lt;-</span> <span class="fu">ymd</span>(<span class="st">"2022-09-14"</span>)</span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a>mijninterval <span class="ot">&lt;-</span> <span class="fu">interval</span>(startdatum, einddatum)</span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a>mijninterval</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2020-01-03 UTC--2022-09-14 UTC</code></pre>
</div>
</div>
<p>Je kunt het interval omrekenen naar jaren, maanden, weken en dagen door het interval respectievelijk te delen door <code>years(1)</code>, <code>months(1)</code>, <code>weeks(1)</code> en <code>days(1)</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>mijninterval<span class="sc">/</span><span class="fu">years</span>(<span class="dv">1</span>)   <span class="co"># aantal jaren in het interval</span></span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.69589</code></pre>
</div>
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>mijninterval<span class="sc">/</span><span class="fu">months</span>(<span class="dv">1</span>)  <span class="co"># aantal maanden in het interval</span></span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 32.36667</code></pre>
</div>
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>mijninterval<span class="sc">/</span><span class="fu">weeks</span>(<span class="dv">1</span>)   <span class="co"># aantal weken in het interval</span></span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 140.7143</code></pre>
</div>
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>mijninterval<span class="sc">/</span><span class="fu">days</span>(<span class="dv">1</span>)    <span class="co"># aantal dagen in het interval</span></span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 985</code></pre>
</div>
</div>
<p>Een praktisch voorbeeld hiervan is het berekenen van de leeftijd.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>gebdatum <span class="ot">&lt;-</span> <span class="fu">dmy</span>(<span class="st">"18-06-1948"</span>)</span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a>leeftijd <span class="ot">&lt;-</span> <span class="fu">interval</span>(gebdatum, <span class="fu">today</span>()) <span class="sc">/</span> <span class="fu">years</span>(<span class="dv">1</span>)</span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a>leeftijd</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 76.3726</code></pre>
</div>
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="fu">trunc</span>(leeftijd)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 76</code></pre>
</div>
</div>
</section>
</section>
<section id="rekenen-met-datums" class="level2">
<h2 class="anchored" data-anchor-id="rekenen-met-datums">Rekenen met datums</h2>
<p>Rekenen met datums is een veel voorkomend aspect van het werken met datum-tijdgegevens, vooral in gegevensanalyse en tijdreeksvoorspellingen. <code>lubridate</code> maakt het eenvoudig om rekenkundige bewerkingen uit te voeren op datum-tijd objecten, waardoor gebruikers datums effectief kunnen manipuleren.</p>
<p>Basisbewerkingen als optellen en aftrekken kun je direct uitvoeren op datum-tijd objecten.</p>
<section id="optellen" class="level3">
<h3 class="anchored" data-anchor-id="optellen">optellen</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>startdatum <span class="ot">&lt;-</span> <span class="fu">ymd</span>(<span class="st">"2022-03-01"</span>)</span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a><span class="co"># startdatum begint 1 maand later</span></span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a>startdatum <span class="ot">&lt;-</span> startdatum <span class="sc">+</span> <span class="fu">months</span>(<span class="dv">1</span>)</span>
<span id="cb131-4"><a href="#cb131-4" aria-hidden="true" tabindex="-1"></a>startdatum</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2022-04-01"</code></pre>
</div>
</div>
</section>
<section id="aftrekken" class="level3">
<h3 class="anchored" data-anchor-id="aftrekken">aftrekken</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>startdatum <span class="sc">-</span> <span class="fu">days</span>(<span class="dv">15</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2022-03-17"</code></pre>
</div>
</div>
<p>Datumrekenen wordt vaak gebruikt in verschillende praktische toepassingen, zoals:</p>
<ul>
<li><p>Analyseren van trends over specifieke perioden (bijv. maandelijkse omzetgroei).</p></li>
<li><p>De duur tussen gebeurtenissen berekenen (bijv. projectdeadlines).</p></li>
<li><p>Tijdslots voor vergaderingen of taken bepalen op basis van kalendergebeurtenissen.</p></li>
</ul>
<p>Als voorbeeld wordt een taakduur van 3 uur gedefinieerd en drie taken gepland op basis van de starttijd.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>taakduur <span class="ot">&lt;-</span> <span class="fu">hours</span>(<span class="dv">3</span>) <span class="co"># Elke taak duur 3 uur</span></span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>starttijd <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(<span class="st">"2024-05-01 09:00:00"</span>)</span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Plan 3 taken</span></span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a>schedule <span class="ot">&lt;-</span> starttijd <span class="sc">+</span> taakduur <span class="sc">*</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">2</span></span>
<span id="cb135-5"><a href="#cb135-5" aria-hidden="true" tabindex="-1"></a>schedule</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-05-01 09:00:00 UTC" "2024-05-01 12:00:00 UTC"
[3] "2024-05-01 15:00:00 UTC"</code></pre>
</div>
</div>
</section>
<section id="vergelijken" class="level3">
<h3 class="anchored" data-anchor-id="vergelijken">vergelijken</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dmy</span>(<span class="st">"01-08-1947"</span>) <span class="sc">&lt;</span> <span class="fu">dmy</span>(<span class="st">"18-06-1948"</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</section>
<section id="afronden" class="level3">
<h3 class="anchored" data-anchor-id="afronden">afronden</h3>
<p>De functie <code>round_date()</code> rondt een datum af op de opgegeven tijdseenheid (“second”, “minute”, “hour”, “day”, “month”, “year”, …)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round_date</span>(<span class="fu">now</span>(), <span class="at">unit =</span> <span class="st">"month"</span>)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-11-01 CET"</code></pre>
</div>
</div>
</section>
</section>
<section id="datum-tijd-problemen" class="level2">
<h2 class="anchored" data-anchor-id="datum-tijd-problemen">Datum-Tijd problemen</h2>
<p>Bij het werken met datasets hebben datum-tijdwaarden niet altijd een standaardindeling. Je kunt bijvoorbeeld datums tegenkomen als strings in verschillende formaten zoals <code>"YYYY-MM-DD"</code>, <code>"MM/DD/YYYY"</code> of zelfs <code>"Month DD, YYYY"</code>. Om een nauwkeurige analyse uit te voeren, is het cruciaal om deze tekenreeksen te converteren naar de juiste datum-tijd objecten.</p>
<p>De functie <code>parse_date_time()</code> is een van de meest veelzijdige functies in het lubridate pakket. Het stelt je in staat om meerdere mogelijke formaten op te geven voor het parsen van een datum-tijd string. Deze flexibiliteit is vooral handig als je te maken hebt met datasets van verschillende bronnen of met inconsistente datumformaten.</p>
<p>Syntax: <code>parse_date_time(x, orders, tz = "UTC", quiet = FALSE, ...)</code></p>
<ul>
<li><p><code>x</code>: Een tekenvector van datum-tijdreeksen die moeten worden ontleed.</p></li>
<li><p><code>orders</code>: Een vector van mogelijke formaten voor de datum-tijd strings (bijv. <code>"ymd"</code>, <code>"mdy"</code>, …)</p></li>
<li><p><code>tz</code>: De te gebruiken tijdzone(default is <code>"UTC"</code>)</p></li>
<li><p><code>quiet</code>: Onderdrukt waarschuwingen indien <code>TRUE</code>.</p></li>
</ul>
<p>Een voorbeeld met datum-tijd strings in verschillende formaten.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>datums <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"2024-01-15"</span>, <span class="st">"01/16/2024"</span>, <span class="st">"March 17, 2024"</span>, <span class="st">"18-04-2024"</span>)</span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Ontleed de datums</span></span>
<span id="cb141-4"><a href="#cb141-4" aria-hidden="true" tabindex="-1"></a>mijndatums <span class="ot">&lt;-</span> <span class="fu">parse_date_time</span>(datums, </span>
<span id="cb141-5"><a href="#cb141-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">orders =</span> <span class="fu">c</span>(<span class="st">"ymd"</span>, <span class="st">"mdy"</span>, <span class="st">"dmy"</span>, <span class="st">"B d, Y"</span>))</span>
<span id="cb141-6"><a href="#cb141-6" aria-hidden="true" tabindex="-1"></a>mijndatums</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-01-15 UTC" "2024-01-16 UTC" "2024-03-17 UTC" "2024-04-18 UTC"</code></pre>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Gekopieerd!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Gekopieerd!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/bwelman\.github\.io\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Deze website is gemaakt met <a href="https://quarto.org/">Quarto</a>.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>