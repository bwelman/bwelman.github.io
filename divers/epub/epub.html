<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="nl" xml:lang="nl"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.427">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Archief Ben - Epub wetenswaardigheden</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/logo.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "Geen resultaten",
    "search-matching-documents-text": "Gevonden documenten",
    "search-copy-link-title": "Kopieer link om te zoeken",
    "search-hide-matches-text": "Extra overeenkomsten verbergen",
    "search-more-match-text": "meer overeenkomst in dit document",
    "search-more-matches-text": "meer overeenkomsten in dit document",
    "search-clear-button-title": "Wissen",
    "search-detached-cancel-button-title": "Annuleren",
    "search-submit-button-title": "Verzenden",
    "search-label": "Zoeken"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-DZG4072LJ3"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-DZG4072LJ3', { 'anonymize_ip': true});
</script>
<style>html{ scroll-behavior: smooth; }</style>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../images/logo-transparant.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Archief Ben</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Zoeken"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Schakel tussen navigatie" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../access.html" rel="" target="">
 <span class="menu-text">Access</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../excel.html" rel="" target="">
 <span class="menu-text">Excel</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../bier.html" rel="" target="">
 <span class="menu-text">Bier</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../chemie.html" rel="" target="">
 <span class="menu-text">Chemie</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../divers.html" rel="" target="">
 <span class="menu-text">Divers</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../tutorials.html" rel="" target="">
 <span class="menu-text">Tutorials</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Op deze pagina</h2>
   
  <ul>
  <li><a href="#wat-is-epub" id="toc-wat-is-epub" class="nav-link active" data-scroll-target="#wat-is-epub">Wat is EPUB</a>
  <ul class="collapse">
  <li><a href="#epub-formaten" id="toc-epub-formaten" class="nav-link" data-scroll-target="#epub-formaten">EPUB formaten</a>
  <ul class="collapse">
  <li><a href="#epub-versie-2.0.1" id="toc-epub-versie-2.0.1" class="nav-link" data-scroll-target="#epub-versie-2.0.1">Epub versie 2.0.1</a></li>
  <li><a href="#epub-versie-3.0" id="toc-epub-versie-3.0" class="nav-link" data-scroll-target="#epub-versie-3.0">Epub versie 3.0</a></li>
  <li><a href="#epub-3.1" id="toc-epub-3.1" class="nav-link" data-scroll-target="#epub-3.1">EPUB 3.1</a></li>
  </ul></li>
  <li><a href="#ibooks-formaat" id="toc-ibooks-formaat" class="nav-link" data-scroll-target="#ibooks-formaat">ibooks formaat</a></li>
  </ul></li>
  <li><a href="#epub-2-structuur" id="toc-epub-2-structuur" class="nav-link" data-scroll-target="#epub-2-structuur">EPUB 2 structuur</a>
  <ul class="collapse">
  <li><a href="#content.opf" id="toc-content.opf" class="nav-link" data-scroll-target="#content.opf">content.opf</a>
  <ul class="collapse">
  <li><a href="#metadata" id="toc-metadata" class="nav-link" data-scroll-target="#metadata">metadata</a></li>
  <li><a href="#manifest" id="toc-manifest" class="nav-link" data-scroll-target="#manifest">manifest</a></li>
  <li><a href="#spine" id="toc-spine" class="nav-link" data-scroll-target="#spine">spine</a></li>
  <li><a href="#guide" id="toc-guide" class="nav-link" data-scroll-target="#guide">guide</a></li>
  </ul></li>
  <li><a href="#toc.ncx-bestand" id="toc-toc.ncx-bestand" class="nav-link" data-scroll-target="#toc.ncx-bestand">toc.ncx bestand</a>
  <ul class="collapse">
  <li><a href="#head" id="toc-head" class="nav-link" data-scroll-target="#head">head</a></li>
  <li><a href="#doctitle" id="toc-doctitle" class="nav-link" data-scroll-target="#doctitle">docTitle</a></li>
  <li><a href="#navmap" id="toc-navmap" class="nav-link" data-scroll-target="#navmap">navMap</a></li>
  <li><a href="#pagelist" id="toc-pagelist" class="nav-link" data-scroll-target="#pagelist">pageList</a></li>
  <li><a href="#navlist" id="toc-navlist" class="nav-link" data-scroll-target="#navlist">navList</a></li>
  </ul></li>
  <li><a href="#xhtml-tekstbestanden" id="toc-xhtml-tekstbestanden" class="nav-link" data-scroll-target="#xhtml-tekstbestanden">(X)HTML tekstbestanden</a></li>
  <li><a href="#boekomslag" id="toc-boekomslag" class="nav-link" data-scroll-target="#boekomslag">Boekomslag</a></li>
  <li><a href="#css" id="toc-css" class="nav-link" data-scroll-target="#css">CSS</a></li>
  <li><a href="#bundelen-tot-een-zip" id="toc-bundelen-tot-een-zip" class="nav-link" data-scroll-target="#bundelen-tot-een-zip">Bundelen tot een zip</a></li>
  <li><a href="#validatie" id="toc-validatie" class="nav-link" data-scroll-target="#validatie">Validatie</a></li>
  </ul></li>
  <li><a href="#epub-3-structuur" id="toc-epub-3-structuur" class="nav-link" data-scroll-target="#epub-3-structuur">EPUB 3 structuur</a></li>
  <li><a href="#testen-van-epubs" id="toc-testen-van-epubs" class="nav-link" data-scroll-target="#testen-van-epubs">Testen van epubs</a></li>
  <li><a href="#woordenlijst" id="toc-woordenlijst" class="nav-link" data-scroll-target="#woordenlijst">Woordenlijst</a></li>
  <li><a href="#bronnen" id="toc-bronnen" class="nav-link" data-scroll-target="#bronnen">Bronnen</a>
  <ul class="collapse">
  <li><a href="#artikelen-boeken" id="toc-artikelen-boeken" class="nav-link" data-scroll-target="#artikelen-boeken">Artikelen / Boeken</a></li>
  <li><a href="#websites" id="toc-websites" class="nav-link" data-scroll-target="#websites">Websites</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Epub wetenswaardigheden</h1>
  <div class="quarto-categories">
    <div class="quarto-category">eboek</div>
  </div>
  </div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Publicatiedatum</div>
    <div class="quarto-title-meta-contents">
      <p class="date">31 maart 2014</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Gewijzigd</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">17 april 2019</p>
    </div>
  </div>
    
  </div>
  
<div>
  <div class="abstract">
    <div class="abstract-title">Samenvatting</div>
    <p>Uitleg over het epub formaat.</p>
  </div>
</div>

</header>

<section id="wat-is-epub" class="level1">
<h1>Wat is EPUB</h1>
<p>EPUB, ook wel geschreven als ePub en ePUB, is de afkorting voor Electronic publication. Het is een open standaard voor eboeken van het International Digital Publishing Forum (IDPF). Het open karakter houdt in dat iedereen gratis dit formaat kan gebruiken. De epub standaard bestaat zelf weer uit verschillende andere standaarden, zoals XHTML, CSS, NCX, …</p>
<p>Het epub bestand is in werkelijkheid een speciaal samengesteld zip bestand met de extensie .epub. De inhoud bestaat uit XHML en CSS bestanden, aangevuld met een aantal XML bestanden die er voor moeten zorgen dat het eboek door verschillende ereaders goed weergegeven wordt. Helaas interpreteert niet elke ereader een epub bestand op dezelfde manier. In het kort komt het er op neer dat de inhoud van een epub bestaat uit XHTML en de de metadata uit XML.</p>
<p>EPUB boeken kunnen worden weergegeven op pc’s, smartphones en de meeste e-readers. Vaak is op deze apparaten al een programma of app aanwezig waarmee je een ePub kunt lezen en een enkele keer moet je deze nog downloaden en installeren.</p>
<p>Een EPUB kent geen vaste pagina, de tekst is “reflowable”, wat wil zeggen dat deze zich aanpast aan de grootte van het scherm. Ook kan de gebruiker een groter of kleiner lettertype instellen, waardoor er ook minder of meer tekst op het scherm past. Verder kunnen in EPUB boeken ook afbeeldingen en links voorkomen, waardoor het effect veel weg heeft van een website.</p>
<p>Populaire programma’s of apps voor het lezen van een ePub:</p>
<ul>
<li>iBooks op iPad/iPhone/iPod</li>
<li>Aldiko op Android apparaten</li>
<li>Calibre voor Windows, OSX en Linux</li>
<li>EPUBREADER plugin voor Firefox</li>
<li>Readium plugin voor Chrome, <a href="http://readium.org/" class="uri">http://readium.org/</a></li>
<li>Adobe Digital Editions voor Windows en OSX</li>
<li>Kindle, Nook en Kobo desktop en mobiele apps</li>
<li>Azardi ePub3 Reader, oor desktop, gratis. <a href="http://azardi.infogridpacific.com/index.html" class="uri">http://azardi.infogridpacific.com/index.html</a></li>
</ul>
<p><strong>Verwante informatie</strong></p>
<p><a href="http://www.idpf.org">Website van het International Digital Publishing Forum (IDPF)</a></p>
<section id="epub-formaten" class="level2">
<h2 class="anchored" data-anchor-id="epub-formaten">EPUB formaten</h2>
<p>De epub specificatie wordt onderhouden door IDPF. Geschiedenis specificaties:</p>
<ul>
<li>oktober 2007: EPUB 2.0</li>
<li>september 2010: EPUB 2.01</li>
<li>oktober 2011: EPUB 3.0</li>
<li>juni 2014: EPUB 3.0.1</li>
<li>januari 2017: EPUB 3.1</li>
</ul>
<p>De meeste epub bestanden zijn nog gemaakt volgens de 2.0.1. De 3.0 en hoger versies worden door de meeste ereaders nog niet ondersteund. Daarnaast heeft Apple nog een eigen epub formaat met de bestandsextensie .ibooks.</p>
<section id="epub-versie-2.0.1" class="level3">
<h3 class="anchored" data-anchor-id="epub-versie-2.0.1">Epub versie 2.0.1</h3>
<p>Epub versie 2.0.1 bestaat uit drie specificaties:</p>
<ul>
<li>Open Publication Structure (OPS) 2.0.1 Deze definieert de toegestane formaten (bijv. XHTML, CSS) en elementen (bijv. tags) welke gebruikt mogen worden voor de inhoud van het eboek en de opmaak ervan.</li>
<li>Open Packaging Format (OPF) 2.0.1 Deze definieert de verplichte en optionele metadata en de structuur van de leesvolgorde en inhoudsopgave in een epub in XML termen.</li>
<li>Open Container Format (OCF) 2.0.1 Deze verzamelt alle afzonderlijke bestanden in één ZIP bestand en definieert de mapstructuur (de volgorde van de bestanden) en het bestandsformaat (ZIP) van een epub.</li>
</ul>
</section>
<section id="epub-versie-3.0" class="level3">
<h3 class="anchored" data-anchor-id="epub-versie-3.0">Epub versie 3.0</h3>
<p>Epub versie 3.0 bestaat uit vier specificaties:</p>
<ul>
<li>EPUB Publications 3.0 Deze definieert publication-level semantics and overarching conformance requirements for EPUB Publications.</li>
<li>EPUB Content Documents 3.0. Deze definieert profielen voor XHTML, SVG en CSS voor gebruik in de context van epub publicaties.</li>
<li>EPUB Open Container Format 3.0 (OCF) 2.0.1. Deze definieert het bestandsformaat en procesmodel om alle afzonderlijke bestanden op te nemen in één EPUB container, het ZIP bestand.</li>
<li>EPUB Media Overlays 3.0. Deze definieert een formaat en procesmodel voor de synchronisatie van tekst en audio.</li>
</ul>
<p>De belangrijkste kenmerken van EPUB 3 zijn:</p>
<ul>
<li>HTML 5</li>
<li>CSS 3</li>
<li>Javascript (en libraries)</li>
<li>Video, Audio, read-aloud (SMIL)</li>
<li>Tekst orientatie</li>
<li>Unicode ondersteuning</li>
<li>MathML</li>
<li>SVG</li>
</ul>
</section>
<section id="epub-3.1" class="level3">
<h3 class="anchored" data-anchor-id="epub-3.1">EPUB 3.1</h3>
<p>Overzicht: <a href="http://www.idpf.org/epub/31/spec/epub-overview.html" class="uri">http://www.idpf.org/epub/31/spec/epub-overview.html</a></p>
<p>Specificaties: <a href="http://www.idpf.org/epub/31/spec/epub-spec.html" class="uri">http://www.idpf.org/epub/31/spec/epub-spec.html</a></p>
<p>Wijzigingen vanaf 3.0.1: <a href="http://www.idpf.org/epub/31/spec/epub-changes.html" class="uri">http://www.idpf.org/epub/31/spec/epub-changes.html</a></p>
<p>Interessant: <a href="http://blog.kbresearch.nl/2016/03/10/the-future-of-epub-a-first-look-at-the-epub-3-1-editors-draft/" class="uri">http://blog.kbresearch.nl/2016/03/10/the-future-of-epub-a-first-look-at-the-epub-3-1-editors-draft/</a></p>
<p>Responsive Ebook Design: A Primer: <a href="https://medium.com/@sandersk/responsive-ebook-design-a-primer-8bba01328219#.ioy7m01le">https://medium.com/@sandersk/responsive-ebook-design-a-primer-8bba01328219#.ioy7m01le</a></p>
</section>
</section>
<section id="ibooks-formaat" class="level2">
<h2 class="anchored" data-anchor-id="ibooks-formaat">ibooks formaat</h2>
<p>iBooks is een (gratis) programma van Apple voor de iPad en iPhone. Hiermee kun je boeken lezen die gemaakt zijn in het PDF en EPUB formaat. In januari 2012 lanceerde Apple een nieuwe versie van iBooks tesamen met een nieuw programma iBooks Author (alleen voor de Mac) waarmee boeken gemaakt kunnen worden. Hierbij werd ook voor een nieuw bestandsformaat gekozen met de naam ibooks. Dit bestandsformaat is gebaseerd op EPUB waaraan Apple vervolgens wat afwijkingen en extra functionaliteiten heeft toegevoegd. Dit ibooks formaat is echter geen open formaat. Boeken in dit formaat kunnen alleen met het programma iBooks op de iPad gelezen worden.</p>
<p>Er zijn grote overeenkomsten tussen ibooks en EPUB3. Zo zijn er valide NCX en OPF bestanden. De XHTML bestanden zijn allemaal XHTML5. En er wordt veel gebruik gemaakt van SVG bestanden.</p>
<p>Maar er zijn ook verschillen tussen ibooks en EPUB3. Om er een paar te noemen:</p>
<ul>
<li><p>Inhoud bestand mimetype is anders:</p>
<pre><code>application/x-ibooks+zip</code></pre></li>
<li><p>Er wordt gebruik van eigen ongedocumenteerde CSS uitbreidingen. Voorbeeld</p>
<pre><code>-ibooks-underline-type: none;</code></pre></li>
<li><p>De koppeling met CSS bestanden gebeurt niet via het LINK element maar via een declaratie in de vorm</p>
<pre><code>&lt;?xml-stylesheet href="*" type="text/css" media="*"?&gt;</code></pre></li>
<li><p>De XHTML bestanden bevatten objecten met types zoals</p>
<pre><code>application/x-ibooks+flowhead
application/x-ibooks+shape</code></pre></li>
<li><p>Er wordt gebruik gemaakt van eigen namespaces.</p></li>
</ul>
<p>Door deze verschillen zijn boeken in het ibooks formaat alleen maar te lezen op een iPad en niet op andere apparaten.</p>
<p><a href="http://www.baldurbjarnason.com/notes/the-ibooks-textbook-format">The iBooks 2.0 textbook format, Baldur Bjarnason, 19-01-2012</a></p>
<p><a href="http://www.baldurbjarnason.com/notes/the-ibooks-builtin-widgets">The iBooks 2.0 built-in widgets, Baldur Bjarnason, 20-01-2012</a></p>
<p><a href="http://www.baldurbjarnason.com/notes/the-pros-and-cons-of-iBooks-2">The pros and cons of the iBooks 2.0 textbook format, Baldur Bjarnason, 21-01-2012</a></p>
</section>
</section>
<section id="epub-2-structuur" class="level1">
<h1>EPUB 2 structuur</h1>
<p>De onderdelen van een epub 2 bestand.</p>
<p>De inhoud van een epub bestand krijg je te zien wanneer je dit bestand gaat uitpakken met een programma als winzip of 7zip. Wanneer je een epub gaat maken, dan stel je deze mapstructuur samen en pakt het daarna samen in één zip bestand.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="epub_inhoud.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Bestanden en mappen in een epub bestand.</figcaption>
</figure>
</div>
<p>De feitelijke boekinhoud zit in de XHTML bestanden en het CSS bestand verzorgt de opmaak. De andere bestanden zijn specifieke bestanden voor een epub en worden hierna besproken.</p>
<p><strong>mimetype</strong></p>
<p>Dit is een tekstbestand zonder extensie. Het moet het eerste bestand in de epub zijn, mag niet gecomprimeerd zijn en is voor alle epub bestanden hetzelfde. De inhoud bestaat uit één regel tekst met als inhoud:</p>
<pre><code>application/epub+zip</code></pre>
<p><strong>Attention:</strong> Precies 20 tekens en geen ENTER aan het eind van de regel!</p>
<p><strong>META-INF map</strong></p>
<p>Deze map bevat normaal gesproken één bestand met de naam container.xml. De inhoud van dit bestand is meestal als volgt:</p>
<pre><code>&lt;?xml version="1.0"?&gt;
&lt;container version="1.0" xmlns="urn:oasis:names:tc:opendocument:xmlns:container"&gt;
  &lt;rootfiles&gt;
    &lt;rootfile full-path="OEBPS/content.opf" media-type="application/oebps-package+xml"/&gt;
  &lt;/rootfiles&gt;
&lt;/container&gt;</code></pre>
<p>Het enige wat hierin variabel kan zijn is de waarde van het attribuut full-path in het element rootfile. Deze waarde moet verwijzen naar de lokatie van het bestand content.opf in het epub bestand. Wanneer je altijd het bestand content.opf in de map OEPS plaatst, wat ook de afspraak is, dan kan het bestand container.xml voor elk epub bestand hetzelfde zijn.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Opmerking
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>Wanneer je Calibre gebruikt om de epub te lezen, dan plaatst deze in de map META-INF een bestand met de naam calibre_bookmarks.txt waarin wordt bijgehouden waar je met het lezen gestopt bent. Een voorbeeld van de inhoud is: <code>calibre_current_page_bookmark^5#body|0.000000</code></li>
<li>Wanneer de epub van DRM voorzien is, dan wordt in deze map ook een bestand encryption.xml in geplaatst.</li>
<li>Wanneer je de epub met het programma Adobe Indesign maakt en daarbij ook fonts opneemt, dan wordt in deze map ook het bestand encryption.xml geplaatst.</li>
<li>Voor verdere informatie over de inhoud van de map META-INF kun je de OCF specificatie raadplegen.</li>
</ol>
</div>
</div>
<p><strong>OEBPS map</strong></p>
<p>In deze map staat de eigenlijke inhoud van het eboek. Volgens de IDPF specificatie hoef je de inhoud niet in een map met deze naam te zetten, maar het wordt wel aanbevolen. De map OEBPS bevat de volgende submappen en bestanden.</p>
<ul>
<li><p>XHTML bestanden met de teksten.</p></li>
<li><p>CSS bestand(en) voor de opmaak.</p></li>
<li><p>submap, vaak met de naam images, voor de afbeeldingen (indien nodig). De afbeeldingen mogen ook in de map OEBPS staan.</p></li>
<li><p>submap, vaak met naam fonts, voor de letterfonts (indien nodig). De fonts mogen ook in de map OEBPS staan.</p></li>
<li><p>toc.ncx, een speciaal XML bestand dat door de ereaders gebruikt wordt om een navigeerbare inhoudsopgave (TOC = Table Of Contents) te genereren.</p></li>
<li><p>content.opf, een speciaal XML bestand dat de metadata van het boek bevat alsmede een lijst van de individuele bestanden die de inhoud vormen.</p></li>
</ul>
<section id="content.opf" class="level2">
<h2 class="anchored" data-anchor-id="content.opf">content.opf</h2>
<p>Verplicht moet in de epub een Open Packaging Format (OPF) metadata bestand voorkomen. In principe mag dit bestand elke naam hebben, maar het is de gewoonte om dit bestand de naam content.opf te geven. In dit bestand wordt van alle bestanden die de inhoud van het eboek vormen, de naam en lokatie gespecificeerd. Verder bevat het nog een verwijzing neer een ander metadatabestand, de inhoudsopgave in het NCX (Navigation Control eXtended) formaat. Het OPF bestand is het meest complexe bestand in de epub standaard.</p>
<p>Het OPF bestand is een UTF-8 gecodeerd XML bestand met package als root element en bevat verder vier delen: metadata, manifest, spine en guide.</p>
<pre><code>&lt;?xml version="1.0" encoding="utf-8”?&gt;
&lt;package xmlns="http://www.idpf.org/2007/opf"
    xmlns:dc="http://purl.org/dc/elements/1.1/"
    version="2.0" unique-identifier="bookid"&gt;
  &lt;metadata&gt;
    ...
  &lt;/metadata&gt;
  
  &lt;manifest&gt;
    ...
  &lt;/manifest
  
  &lt;spine&gt;
    ...
  &lt;/spine&gt;
  
  &lt;guide&gt;
    ...
  &lt;/guide&gt;
&lt;/package&gt;</code></pre>
<p>Het OPF document zelf moet de namespace http://www.idpf.org/2007/opf gebruiken en de metadata moet in de Dublin Core Metadata Initiative (DCMI) namespace http://purl.org/dc/elements/1.1/ zitten.</p>
<section id="metadata" class="level3">
<h3 class="anchored" data-anchor-id="metadata">metadata</h3>
<p>In dit deel wordt de metadata van het boek gespecificeerd volgens de Dublin Core metadata elementen. Een voorbeeld:</p>
<pre><code>&lt;metadata&gt;
  &lt;dc:title&gt;Testboek&lt;/dc:title&gt;
  &lt;dc:creator&gt;Ben Welman&lt;/dc:creator&gt;
  &lt;dc:identifier id="bookid"&gt;urn:uuid:sw12345&lt;/dc:identifier&gt;
  &lt;dc:language&gt;nl&lt;/dc:language&gt;
  &lt;dc:date&gt;2013&lt;/dc:date&gt;
  &lt;dc:publisher&gt;Softwijs&lt;/dc:publisher&gt;
  &lt;dc:rights&gt;http://creativecommons.org/licenses/by-nc/3.0/nl/&lt;/dc:rights&gt;
  &lt;dc:description&gt;Mijn eerste e-boek in het epub formaat.&lt;/dc:description&gt;
  &lt;meta name="cover" content="cover-image" /&gt;
&lt;/metadata&gt;</code></pre>
<p>De verplichte elementen zijn title, language en identifier. Volgens de EPUB specificatie moet de identifier een unieke waarde hebben. Het is aan de uitgever om deze waarde te bepalen. Vaak wordt hiervoor een ISBN nummer gebruikt, maar je mag ook een URL of een willekeurige string gebruiken.</p>
<p>Een meta element waarvan het attribuut name de waarde cover heeft, is geen onderdeel van de EPUB specificatie, maar wordt wel aanbevolen voor boekomslagen. Sommige e-boek readers geven de voorkeur aan een plaatje voor een boekomslag en andere readers aan een XHTML bestand waarin een plaatje is opgenomen. De waarde van het attribuut content moet de ID bevatten van het plaatje voor de boekomslag.</p>
<p><strong>Important:</strong> De waarde van het dc:identifier element moet hetzelfde zijn als die gebruikt wordt in het dtb:ui meta element in het toc.ncx bestand, waarvan weer de waarde van het id hetzelfde moet zijn als de id van het unique-identifier attribuut in het package element.</p>
<p><strong>Attention:</strong> Het woordenboek in iBooks werkt op dit moment alleen maar voor de Engelse taal en ook alleen maar wanneer “en” de waarde voor dc:language is.</p>
</section>
<section id="manifest" class="level3">
<h3 class="anchored" data-anchor-id="manifest">manifest</h3>
<p>In het onderdeel manifest moeten alle onderdelen worden benoemd die de inhoud van het e-boek vormen. Dus alle XHTML en CSS bestanden, de bestanden voor plaatjes en lettertypes, alsmede het toc.ncx bestand. Een voorbeeld:</p>
<pre><code>&lt;manifest&gt;
  &lt;item id="ncx" href="toc.ncx" media-type="application/x-dtbncx+xml"/&gt;
  &lt;item id="voor_cover" href="voorkant.xhtml" media-type="application/xhtml+xml"/&gt;
  &lt;item id="hfst1" href="hoofdstuk-01.xhtml" media-type="application/xhtml+xml"/&gt;
  &lt;item id="hfst2" href="hoofdstuk-02.xhtml" media-type="application/xhtml+xml"/&gt;
  &lt;item id="style" href="stylesheet.css" media-type="text/css"/&gt;
  &lt;item id="cover-image" href="images/Epub-book.png" media-type="image/png"/&gt;
&lt;/manifest&gt;</code></pre>
<p>Alle items hebben een bijbehorende waarde voor het attribuut media-type. Voor XHTML bestanden is de waarde ervan altijd application/xhtml+xml.</p>
<p>EPUB ondersteunt vier grafische formaten: JPEG, PNG, GIF en SVG.</p>
<p>De waarde van het href attribuut is relatief m.b.t het OPF bestand.</p>
</section>
<section id="spine" class="level3">
<h3 class="anchored" data-anchor-id="spine">spine</h3>
<p>In dit onderdeel staat de volgorde van de tekstbestanden voor het eboek. Wanneer de ereader aan het eind van een tekstbestand zit, dan staat in het spine deel wat het volgende bestand wordt. Dit is dus de lineaire leesvolgorde van het e-boek. Een voorbeeld:</p>
<pre><code>&lt;spine toc="ncx"&gt;
  &lt;itemref idref="voor_cover"/&gt;
  &lt;itemref idref="hfst1"/&gt;
  &lt;itemref idref="hfst2"/&gt;
&lt;/spine&gt;</code></pre>
<p>De waarden voor idref moeten hetzelfde zijn als de id van hetzelfde item in de manifest. Daarnaast kan eventueel het attribuut linear worden toegevoegd, waarmee aangegeven wordt of het item beschouwd moet worden als een onderdeel van de lineaire lees volgorde, dan wel een extra in de vorm van een voor- of achterkant. Een e-boek reader opent het e-boek met het eerste item waarvan de waarde NIET gelijk is aan <code>linear="no"</code>. Wil je dus dat de reader als eerste begint bij hfst1, dan moet <code>linear="no"</code> aan het eerste itemref worden toegevoegd.</p>
<p><strong>Attention:</strong> Het is van belang om na te denken over wat de lezer te zien moet ktijgen wanneer het e-boek voor de eerste keer geopend wordt. Enkele mogelijkheden: voorkant, inhoudsopgave, eerste hoofdstuk. Om de voorkant als eerste te tonen moet er een afzonderlijke XHTML pagina hiervoor gemaakt worden. Verder moet dit bestand als eerste genoemd worden in de sectie spine van het content.opf bestand met de waarde text voor van het attribuut type.</p>
</section>
<section id="guide" class="level3">
<h3 class="anchored" data-anchor-id="guide">guide</h3>
<p>De guide is het deel waarin de rol van elk XHTML bestand wordt aangegeven. Dit onderdeel is optioneel. Apple beveelt aan om het wel te gebruiken.De mogelijke rollen zijn: cover, title-page, toc, index, glossary, acknowledgements, bibliography, colophon, copyright-page, dedication, epigraph, forword, loi (list of illustrations), lot (list of tables), notes, preface en text. Voor het gebruik en betekenis zie de OPF 2.0 specificatie. Een voorbeeld:</p>
<pre><code>&lt;guide&gt;
  &lt;reference type="cover" href="voorkant.xhtml"/&gt;
  &lt;reference type="text" href=”hfst1.xhtml"/&gt;
  &lt;reference type="text" href=”hfst2.xhtml"/&gt;
&lt;/guide&gt;</code></pre>
</section>
</section>
<section id="toc.ncx-bestand" class="level2">
<h2 class="anchored" data-anchor-id="toc.ncx-bestand">toc.ncx bestand</h2>
<p>Het toc.ncx bestand is een UTF-8 gecodeerd XML bestand dat zich moet bevinden in de OEBPS map. NCX staat voor (Navigation Control eXtended file for XML.Op zich mag het een andere naam hebben, zolang de bestandsextensie maar ncx is. Het toc.ncx bestand wordt door de readers gebruikt om een navigeerbare inhoudsopgave te genereren. Dit is wat anders dan een inhoudsopgave in het boek zelf.</p>
<p>Het toc.ncx bestand moet een valide XML bestand zijn. Een voorbeeld:</p>
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE ncx PUBLIC "-//NISO//DTD ncx 2005-1//EN"
    "http://www.daisy.org/z3986/2005/ncx-2005-1.dtd"&gt;
&lt;ncx xmlns="http://www.daisy.org/z3986/2005/ncx/" version="2005-1"
    xml:lang="nl"&gt;
    &lt;head&gt;
        &lt;meta name="dtb:uid" content="sw12345"/&gt;
        &lt;meta name="dtb:depth" content="1"/&gt;
        &lt;meta name="dtb:totalPageCount" content="0"/&gt;
        &lt;meta name="dtb:maxPageNumber" content="0"/&gt;
    &lt;/head&gt;
    &lt;docTitle&gt;
        &lt;text&gt;Testboek&lt;/text&gt;
    &lt;/docTitle&gt;
    &lt;navMap&gt;
        &lt;navPoint id="voor_cover" playOrder="1"&gt;
            &lt;navLabel&gt;
                &lt;text&gt;Voorkant&lt;/text&gt;
            &lt;/navLabel&gt;
            &lt;content src="voorkant.xhtml"/&gt;
        &lt;/navPoint&gt;
        &lt;navPoint id="hfst1" playOrder="2"&gt;
            &lt;navLabel&gt;
                &lt;text&gt;Hoofdstuk 1&lt;/text&gt;
            &lt;/navLabel&gt;
            &lt;content src="hoofdstuk-01.xhtml"/&gt;
        &lt;/navPoint&gt;
        &lt;navPoint id="hfst2" playOrder="3"&gt;
            &lt;navLabel&gt;
                &lt;text&gt;Hoofdstuk 2&lt;/text&gt;
            &lt;/navLabel&gt;
            &lt;content src="hoofdstuk-02.xhtml"/&gt;
        &lt;/navPoint&gt;        
    &lt;/navMap&gt;
&lt;/ncx&gt;</code></pre>
<p>De verschillende onderdelen worden hierna besproken.</p>
<section id="head" class="level3">
<h3 class="anchored" data-anchor-id="head">head</h3>
<p>De head sectie moet vier meta-elementen bevatten:</p>
<dl>
<dt>dtb:uid</dt>
<dd>
<p>De inhoud van content een tekst of code zijn welke uniek is voor het eboek. Deze moet hetzelfde zijn als dc:identifier in content.opf. Er zijn websites (google op “generate uuid”) die je daarbij kunnen helpen. De conventie is om de string te beginnen met urn:uuid:</p>
</dd>
<dt>dtb:depth</dt>
<dd>
<p>De inhoud van content verwijst naar het aantal niveaus en subniveaus in het menu voor de TOC. Niveau 1 is voor voorkant, achterkant en hoofdstuktitels. Zijn er binnen de hoofdstukken paragrafen, dan wordt het niveau 2.</p>
</dd>
<dt>dtb:totalPageCount</dt>
<dd>
<p>Niet van belang. Mag zo blijven, maar niet weggelaten worden.</p>
</dd>
<dt>dtb:maxPageNumber</dt>
<dd>
<p>Niet van belang. Mag zo blijven, maar niet weggelaten worden.</p>
</dd>
</dl>
</section>
<section id="doctitle" class="level3">
<h3 class="anchored" data-anchor-id="doctitle">docTitle</h3>
<p>Het text element moet eigenlijk de titel van het boek bevatten, maar veel readers negeren dit. Veel aanbevelingen geven aan om dit toch maar in te vullen. De waarde moet gelijk zijn aan de waarde van dc:title in het OPF bestand.</p>
</section>
<section id="navmap" class="level3">
<h3 class="anchored" data-anchor-id="navmap">navMap</h3>
<p>Hierin wordt de navigeerbare inhoud gedefinieerd. Elk onderdeel in de TOC wordt gedefinieerd met een navPoint element. Dit element heeft de volgende onderdelen:</p>
<dl>
<dt>id</dt>
<dd>
<p>Een unieke code die het onderdeel in de TOC identificeert.</p>
</dd>
<dt>playOrder</dt>
<dd>
<p>Een getal die de volgorde in de TOC aangeeft. De volgorde in het boek zelf waarin de reader van document naar document gaat, wordt hierdoor niet gecontroleerd, dat gebeurt met de spine.</p>
</dd>
<dt>navLabel/text</dt>
<dd>
<p>Beschrijft de titel voor dit onderdeel.</p>
</dd>
<dt>content</dt>
<dd>
<p>Het src attribuut hiervan verwijst naar het fysieke bestand voor dit onderdeel. Er mogen ook bookmarks in de URL voorkomen, bijvoorbeeld hoofdstuk-01.xhtml#paragraaf-03.</p>
</dd>
</dl>
<p><strong>Attention:</strong> Een navPoint element kan weer geneste navPoint elementen bevatten.</p>
</section>
<section id="pagelist" class="level3">
<h3 class="anchored" data-anchor-id="pagelist">pageList</h3>
<p>Optioneel. Wordt nog niet breed ondersteund, maar is wel in opkomst.</p>
</section>
<section id="navlist" class="level3">
<h3 class="anchored" data-anchor-id="navlist">navList</h3>
<p>Optioneel</p>
</section>
</section>
<section id="xhtml-tekstbestanden" class="level2">
<h2 class="anchored" data-anchor-id="xhtml-tekstbestanden">(X)HTML tekstbestanden</h2>
<p>De inhoud van een eboek is meestal over meerdere bestanden verdeeld. Zo kan elk hoofdstuk van het boek in één bestand zitten. Maar ook kleinere onderdelen als paragrafen kunnen in afzonderlijke bestanden worden ondergebracht.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Wanneer je voor elk hoofdstuk een eigen XHTML bestand maakt, dan zorgen de meeste ereaders er voor dat deze op een nieuwe pagina begint.</p>
</div>
</div>
<p>Voor een eventuele voorkant, achterkant, titelpagina, voorwoord, inhoudsopgave, enz. moet steeds een een eigen XHTML pagina gemaakt worden.</p>
<p>De beste keuze voor het bestandsformaat van deze bronbestanden is het XHTML 1.1 formaat. Ook HTM, HTML en XML werken in de praktijk wel. maar volgens de officiële specificatie is XHTML vereist.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Belangrijk
</div>
</div>
<div class="callout-body-container callout-body">
<p>Wanneer je de bestanden met een teksteditor maakt, denk er dan aan om deze in UTF-8 formaat op te slaan en niet in ANSI. Veel ereaders genereren anders fouten.</p>
</div>
</div>
<p>Een XHTML bestand in een epub heeft de volgende constructie:</p>
<pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
  &lt;title&gt;Titel&lt;/title&gt;
  &lt;link href="stylesheet.css" rel="stylesheet" type="text/css"/&gt;
…
&lt;/head&gt;
&lt;body&gt;
…
&lt;/body&gt;</code></pre>
<p>De meeste HTML tags worden door epub ondersteund. Echter ook hier geldt weer dat niet alle ereaders alle toegestane tags ondersteunen. Om zoveel mogelijk ereaders te bedienen kun je het beter eenvoudig houden. De meest gebruikte tags zijn:</p>
<ul>
<li><code>&lt;p&gt;</code> voor paragrafen</li>
<li><code>&lt;h1&gt;</code>, <code>&lt;h2&gt;</code>, … voor titels en kopjes</li>
<li><code>&lt;ol&gt;</code> en <code>&lt;ul&gt;</code> voor lijsten</li>
<li><code>&lt;a&gt;</code> voor hyperlinks. Deze zijn in epub allemaal relatief.</li>
</ul>
<p>Woorden markeren als vet of cursief kan beter via CSS geregeld worden.</p>
<p>Normaliter wijst een link naar het begin van het XHTML bestand:</p>
<pre><code>&lt;a href="hoofdstuk_3.xhtml"&gt;linktekst&lt;/a&gt;</code></pre>
<p>Wanneer je naar een specifiek deel binnen een bestand wilt linken, dan moet je eerst een bladwijzer (bookmark) in dat bestand aanbrengen. De code hiervoor ziet er als volgt uit: <code>&lt;a name="samenvatting"&gt;&lt;/&gt;</code></p>
<p>En de link naar deze plek:</p>
<pre><code>&lt;a href="hoofdstuk_3.xhtml#samenvatting"&gt;linktekst&lt;/a&gt;</code></pre>
<p>Zie verder:</p>
<p><a href="http://idpf.org/epub/20/spec/OPS_2.0.1_draft.htm#Section2.0">Volledige lijst van HTML tags die ondersteund worden in ePub.</a></p>
</section>
<section id="boekomslag" class="level2">
<h2 class="anchored" data-anchor-id="boekomslag">Boekomslag</h2>
<p>De voor- en achterkant van een boek kunnen een plaatje zijn, maar ook een XHTML bestand waarin een plaatje is opgenomen. Een voorbeeld:</p>
<pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
   &lt;head&gt;
      &lt;link rel="stylesheet" type="text/css" href="stylesheet.css" /&gt;
      &lt;title&gt;Testboek&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;h1&gt;Testboek&lt;/h1&gt;
      &lt;div&gt;&lt;img src="images/Epub-book.png" alt="Afbeelding op voorkant"/&gt;&lt;/div&gt;
   &lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>Daarnaast moet er nog het een en ander in de content.opf geregeld worden:</p>
<ol type="1">
<li><p>In de sectie metadata moet opgenomen worden welke afbeelding gebruikt moet worden. Het attribuut name moet altijd de waarde cover hebben en de waarde van het attribuut content moet gelijk zijn aan het id van de afbeelding zoals deze in het manifest is opgenomen.</p>
<pre><code>&lt;metadata&gt;
    &lt;meta name="cover" content="cover-image"/&gt;
    ...
&lt;/metadata&gt;</code></pre></li>
<li><p>In de sectie manifest moet een verwijzing worden opgenomen naar zowel het bestand van de afbeelding als het XHTML bestand.</p>
<pre><code>&lt;manifest&gt;
    &lt;item id="voor_cover" href="voorkant.xhtml" media-type="application/xhtml+xml"/&gt;
    &lt;item id="cover-image" href="images/Epub-book.png" media-type="image/png"/&gt;
    ...
&lt;/manifest&gt;</code></pre></li>
<li><p>In de sectie spine moet het XHTML bestand dat de voorkant vormt, als eerste genoemd worden. De waarde van idref moet gelijk zijn aan de id van het XHTML bestand in manifest.</p>
<pre><code>&lt;spine toc="ncx"&gt;
    &lt;itemref idref="voor_cover"/&gt;
    ...
&lt;/spine&gt;</code></pre></li>
<li><p>In de sectie guide neem je het XHTML bestand op. De waarde van het attribuut type moet cover zijn.</p>
<pre><code>&lt;guide&gt;
    &lt;reference type="cover" href="voorkant.xhtml"/&gt;
    ...
&lt;/guide&gt;</code></pre></li>
</ol>
</section>
<section id="css" class="level2">
<h2 class="anchored" data-anchor-id="css">CSS</h2>
<p>De opmaak van de inhoud van het eboek regel je via een CSS bestand. De mate van ondersteuning van CSS onderdelen kan weer per ereader verschillen.</p>
<p>Om van het CSS bestand gebruik te maken moet in elk .xhtml bestand de verwijzing naar het bestand in het head deel worden opgenomen:</p>
<pre><code>&lt;head&gt;
  &lt;link rel="stylesheet" type="text/css" href="stylesheet.css"/&gt;
&lt;/head&gt;</code></pre>
<p>Voorbeeld stylesheet.css</p>
<pre><code>/* Voorbeeld stylesheet voor een epub boek */

/* Zet de marges op 2% (Dat zorgt voor een witte rand om het boek) */
body{
    margin-left:2%;
    margin-right:2%;
    margin-top:2%;
    margin-bottom:2%;
}

/* Inspringen van een paragraaf, lettertype en uitlijnen */
p{
    text-indent:.3in;
    margin-left:0;
    margin-right:0;
    margin-top:0;
    margin-bottom:0;
    text-align:justify;
    font-family:"Times New Roman";
}

/* Centreren en lettertype van de kopjes */
h1{
    text-align:center;
    font-family:"Arial";
}
h2{
    text-align:center;
    font-family:"Arial";
}</code></pre>
</section>
<section id="bundelen-tot-een-zip" class="level2">
<h2 class="anchored" data-anchor-id="bundelen-tot-een-zip">Bundelen tot een zip</h2>
<p>Het OEBPS Container Format deel van de EPUB specificatie geeft diverse voorschriften voor het EPUB en ZIP archiefbestand. De belangrijkste zijn:</p>
<ul>
<li>Het eerste bestand in het archief moet het bestand mimetype zijn. En het mimetype bestand mag niet gecomprimeerd zijn.</li>
<li>Het ZIP bestand mag niet encrypt zijn. EPUB ondersteunt weliswaar encryptie, maar niet op het niveau van het ZIP bestand.</li>
</ul>
<p>Voor het archiveren kunnen diverse programma’s gebruikt worden, zoals 7-zip (gratis) en winzip. Let er op dat je de acties via de commandoregel in twee stappen moet uitvoeren:</p>
<ol type="1">
<li>Het maken van het zip bestand waarbij je alleen het bestand mimetype zonder compressie toevoegt.</li>
<li>Het toevoegen van alle andere bestanden inclusief hun pad.</li>
</ol>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Bij 7-zip kun je hiervoor ook de 7-zip File Manager gebruiken.</p>
</div>
</div>
</section>
<section id="validatie" class="level2">
<h2 class="anchored" data-anchor-id="validatie">Validatie</h2>
<p>Het valideren van een EPUB kan met EpubCheck. Dit kan zowel voor epub 2 als epub 3 bestanden.</p>
<p><strong>Online</strong></p>
<p>Voor epub bestanden kleiner dan 10Mb kun je EPUB Validator van IPDF de epub laten controleren op fouten.</p>
<p><strong>Offine</strong></p>
<p>Voor grotere bestanden en commercieel gebruik moet je eerst het gratis Java programma EpubCheck downloaden van de EpubCheck projectsite.</p>
<p>Zie ook:</p>
<p><a href="http://validator.idpf.org/">EPUB Validator.</a></p>
<p><a href="http://code.google.com/p/epubcheck/">EpubCheck projectsite.</a></p>
</section>
</section>
<section id="epub-3-structuur" class="level1">
<h1>EPUB 3 structuur</h1>
<p>De onderdelen van een epub3 bestand.</p>
<p>De structuur van een epub 3 bestand wijkt een beetje af van een epub2.</p>
<ul>
<li>Het attribuut version in de tag package vsan het OPF bestand: <code>&lt;package version="3.0" ...\&gt;</code> in plaats van 2.0</li>
<li>Het NCX bestand (met de TOC) is optioneel, maar wordt vanwege de compatibiliteit met de oudere leesprogramma’s meestal wel bijgesloten.</li>
<li>De inhoudsopgave (TOC) is in de nav tag van een .xhtml bestand.</li>
<li>De tekstbestanden hebben de xhtml extensie.</li>
<li>XHTML 5 wordt gebruikt.</li>
</ul>
</section>
<section id="testen-van-epubs" class="level1">
<h1>Testen van epubs</h1>
<p>Minder bekend is dat e-boeken op verschillende platforms (Kindle, iBooks, Nook, Kobo, …) er anders uit kunnen zien. Hierna een mogelijk testproces.</p>
<dl>
<dt>Calibre</dt>
<dd>
<p>Het handigste is om in Calibre een speciale bibliotheek voor testen aan te te maken.</p>
</dd>
<dt>Adobe Digital Editions</dt>
<dd>
<p>Hiermee kun je ook zien hoe de epub geinterpreteerd wordt door systemen die de renderingengine van Adobe gebruiken, zoals Kobo, Nook en Sony, hoewel geen enkele de dingen precies weergeeft zoals ADE dat doet.</p>
</dd>
<dt>Kindle Previewer</dt>
<dd>
<p>Deze converteert de epub naar een Amazon formaat en laat zien hoe deze eruit ziet op de verschillende Kindle platforms (Kindle Fire, Kindle Touch, Kindle DX, Kindle iPhone, Kindle).</p>
</dd>
<dt>iBooks</dt>
<dd>
<p>Dit is de app van Apple voor iPad en iPhone. De gemakkelijkste manier om de epub te controleren, is door het bestand naar jezelf te e-mailen en vervolgens op het bestand op het iOS-apparaat te klikken. het apparaat zal jedan vragen met welk programma je het wilt openen. Kies dan iBooks.</p>
</dd>
<dt>Kobo</dt>
<dd>
<p>Ook een app voor iPad en iPhone. Volg dezelfde werkwijze als voor iBooks en kies aan het eind om het bestand te openen met Kobo.</p>
</dd>
<dt>Epubreader (Firefox addon)</dt>
<dd>
<p>Epub validator</p>
</dd>
</dl>
</section>
<section id="woordenlijst" class="level1">
<h1>Woordenlijst</h1>
<dl>
<dt>OEBPS</dt>
<dd>
<p>Open eBook Publication Structure. Formeel de naam van de standaard. Het is ook de naam van een map in het EPUB bestand.</p>
</dd>
<dt>IDPF</dt>
<dd>
<p>International Digital Publishing Forum.</p>
</dd>
<dt>EPUB</dt>
<dd>
<p>Electronic Publication. Een bestandsformaat voor digitale boeken.</p>
</dd>
</dl>
</section>
<section id="bronnen" class="level1">
<h1>Bronnen</h1>
<section id="artikelen-boeken" class="level2">
<h2 class="anchored" data-anchor-id="artikelen-boeken">Artikelen / Boeken</h2>
<ul>
<li>Castro, Elizabeth. EPUB: straight to the point. Berkeley, Calif: Peachpit Press, 2011.</li>
<li>Epub Format Construction Guide [Internet]. 2007, <a href="http://www.hxa.name/articles/content/epub-guide_hxa7241_2007.html" class="uri">http://www.hxa.name/articles/content/epub-guide_hxa7241_2007.html</a></li>
</ul>
</section>
<section id="websites" class="level2">
<h2 class="anchored" data-anchor-id="websites">Websites</h2>
<ul>
<li><a href="http://www.ibm.com/developerworks/xml/tutorials/x-epubtut/">Build a digital book with EPUB</a>. Artikel IBM developerWorks</li>
<li><a href="http://dublincore.org/documents/usageguide/elements.shtml">Dublin Core elementen</a>.</li>
<li><a href="http://www.lynda.com/InDesign-CS5-5-tutorials/to-EPUB-Kindle-and-iPad/82258-2.html">Indesign CS5.5 to EPUB, Kindle, and iPad</a> Tutorial van Anne-Marie Concepcion op Lynda</li>
<li><a href="http://ebookarchitects.com/index.php">eBook Architects</a>.</li>
<li><a href="http://code.google.com/p/epubcheck/">EpubCheck validatieprogramma</a>. Een Java programma om epub bestanden te controleren.</li>
<li><a href="http://fantasycastlebooks.com/Tutorials/tutorial-index.html">Epub Formatting Tutorials</a>. Hoe je een Fixed-Layout eboek maakt voor iBooks en Kindle.</li>
<li><a href="http://www.epubsecrets.com">EPub Secrets</a>. Een website met nuttige artikelen en tips, o.a. page templates in epub3.</li>
<li><a href="http://www.epubsoft.com">EPUB Soft</a>. Software en Tutorials over DRM verwijdering en conversie</li>
<li>IDPF
<ul>
<li><a href="http://www.idpf.org/accessibility/guidelines/content/style/reference.php">EPUB 3 Accessibility Guidelines</a></li>
<li><a href="http://www.epubtest.org">EPUB Test</a>. Testen van epub</li>
<li><a href="https://github.com/IDPF">IDPF Github</a>. Repositories, waaronder epub3-samples</li>
<li><a href="http://idpf.org/epub/201">Website</a>. Specificaties OPS, OPF en OCS</li>
</ul></li>
<li><a href="http://www.pigsgourdsandwikis.com/">Pigs, Gourds and Wikis</a> Blog van Liz Castro.</li>
<li><a href="https://medium.com/@sandersk/responsive-ebook-design-a-primer-8bba01328219#.dh9j5nvkh">Responsive Ebook Design: A Primer</a></li>
<li><a href="http://wiki.mobileread.com/wiki/EPUB">Wiki MobileRead</a>. Overzicht tools, lijst van toegestane XHTML elementen.</li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Gekopieerd!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Gekopieerd!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp("https:\/\/bwelman\.github\.io\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Deze website is gemaakt met <a href="https://quarto.org/">Quarto</a>.</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>