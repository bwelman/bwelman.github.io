<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.398">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Petr Novotny">
<meta name="dcterms.date" content="2018-03-01">

<title>Archief Ben - Hops - Revisiting the IBU</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/logo.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-DZG4072LJ3"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-DZG4072LJ3', { 'anonymize_ip': true});
</script>
<style>html{ scroll-behavior: smooth; }</style>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../images/logo-transparant.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Archief Ben</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../access.html"> 
<span class="menu-text">Access</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../excel.html"> 
<span class="menu-text">Excel</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../bier.html"> 
<span class="menu-text">Bier</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../chemie.html"> 
<span class="menu-text">Chemie</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../divers.html"> 
<span class="menu-text">Divers</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../tutorials.html"> 
<span class="menu-text">Tutorials</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-an-ibu" id="toc-what-is-an-ibu" class="nav-link active" data-scroll-target="#what-is-an-ibu">What IS an IBU?</a></li>
  <li><a href="#first-wort-hopping" id="toc-first-wort-hopping" class="nav-link" data-scroll-target="#first-wort-hopping">First-Wort Hopping</a></li>
  <li><a href="#late-hopping" id="toc-late-hopping" class="nav-link" data-scroll-target="#late-hopping">Late Hopping</a></li>
  <li><a href="#whirlpool-hopping" id="toc-whirlpool-hopping" class="nav-link" data-scroll-target="#whirlpool-hopping">Whirlpool Hopping</a></li>
  <li><a href="#reviewing-ibu-calculations" id="toc-reviewing-ibu-calculations" class="nav-link" data-scroll-target="#reviewing-ibu-calculations">Reviewing IBU Calculations</a>
  <ul class="collapse">
  <li><a href="#isomerization" id="toc-isomerization" class="nav-link" data-scroll-target="#isomerization">Isomerization</a></li>
  <li><a href="#losses-of-ibus-in-the-brewing-process" id="toc-losses-of-ibus-in-the-brewing-process" class="nav-link" data-scroll-target="#losses-of-ibus-in-the-brewing-process">Losses of IBUs in the brewing process</a></li>
  </ul></li>
  <li><a href="#case-study" id="toc-case-study" class="nav-link" data-scroll-target="#case-study">Case study</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources">Resources</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Hops - Revisiting the IBU</h1>
  <div class="quarto-categories">
    <div class="quarto-category">rekenen</div>
    <div class="quarto-category">hop</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Petr Novotny </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">March 1, 2018</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>By Petr Novotny, Zymurgy, March/April 2018</p>
<p>We all want to make great beer, even on the first attempt. To achieve such a goal we must carefully develop and execute every recipe. Even with limited tools, often nothing more than kitchen scales, a hydrometer or refractometer, and a timer, we still want to able to predict our results.</p>
<p>Our success depends on many calculations and experience with our equipment. Estimating beer bitterness is one of those calculations. The final bitterness of a beer, expressed in International Bittering Units (IBU), depends on many factors: the quantity of hops added, hop varieties used, boil duration, wort temperature, wort density, wort composition, and many others. Even losses to cold break and fermentation play a role.</p>
<p>Hop alpha acids and their products, iso-alpha acids, undertake an extraordinarily complicated journey from the hop cones to our glasses. In this article, I aim to describe this process in detail and demonstrate its relationship to the IBU calculations we use today, as well as to IBU calculations we might use in the future.</p>
<section id="what-is-an-ibu" class="level1">
<h1>What IS an IBU?</h1>
<p>The IBU measures the concentration of iso-alpha acids that make up much of what we perceive as bitterness in beer. Iso-alpha acids are produced in hot wort from hop alpha acids through a chemical reaction called isomerization. By definition, 1 IBU is equal to 1 mg of iso-alpha acid per 1 liter of beer.</p>
<p>It is a mistake to strictly equate bitterness and IBUs because perceived bitterness includes many other contributions beyond the IBU itself, such as hop polyphenols, residual sugar. malt composition, and water chemistry. Nonetheless, a beer’s IBU value correlates well with its perceived bitterness and thus remains a good parameter for developing a beer with a desired bitterness level.</p>
<p>One of the most commonly used IBU estimates is based on Glenn Tinseth’s equation, which he published back in 1997.<sup>1</sup> Twenty years after this IBU milestone, today’s hopping practices often differ wildly from those used in the late 1990s. Over the last two decades, several new hopping techniques have appeared and earned their place in the brewer’s repertoire. Extensive late hopping, first-wort hopping, and whirlpool hopping are all common practice now.</p>
<p>Most of these techniques employ a considerable amount of hop material that is added at a temperature below the boiling point. By contrast, Tinseth’s equation was developed for boil additions only; it is therefore less effective for these newer hopping techniques, at least without some adjustment.</p>
<p>Brewers typically deal with this reality in one of two ways. The first one is simple — sometimes you can ignore the contributions of no-boil additions or treat them as usual with the equation you already have. The second option is much more complicated and usually employs adjustment constants based on your experience and the recommendations of your choice of brewing software. Both approaches can work in some cases; unfortunately, both can fail in others.</p>
</section>
<section id="first-wort-hopping" class="level1">
<h1>First-Wort Hopping</h1>
<p>First-wort hopping (FWH) is the name for adding a large portion of the finishing hops to the boil kettle as the wort is run off from the mash tun or lauter tun. Hops remain in contact with hot wort longer than they would have if they’d been added at the start of the boil. One might, then, expect an increase in alpha acid utilization, but it’s not that simple.</p>
<p>Utilization approaches its maximum at around an hour of boiling, which means that if a FWH addition is followed by a traditional boil of 60 minutes or longer, you can treat it as a regular 60-minute addition. But what if you don’t follow traditional practices? Many brewers like to experiment with timesaving measures, including shorter boils. With today’s high-alpha hop varieties and late-hopping techniques, short boils often make sense. In these cases, the actual temperature conditions of FWH hops could significantly affect the final IBU value.</p>
</section>
<section id="late-hopping" class="level1">
<h1>Late Hopping</h1>
<p>Late hopping involves adding a large portion of the hops within the last 30 minutes of the boil to retain greater hop aroma and flavor. Even during a short boil, the alpha acids still undergo significant isomerization, which increases the overall IBUs. You can simply calculate these contributions by the Tinseth equation. But doing so can be insufficient because it ignores the post-boil treatment of the wort. When massive late hopping is used, plenty of alpha acids can survive and further isomerize during cooling and whirlpooling.</p>
</section>
<section id="whirlpool-hopping" class="level1">
<h1>Whirlpool Hopping</h1>
<p>Whirlpool hopping involves adding a large portion of the hops after the boil while the wort is still warm or hot. Whirlpooling practices differ from one brewer to another. Because of the lower-than-boiling temperature, the rate of the isomerization of alpha acids decreases. If the temperature of the whirlpool is below 60<sup>o</sup> C (140<sup>o</sup> F), or the hop addition is small, you can pretty much ignore its contribution.</p>
<p>For many modern IPAs, though, the whirlpool hop addition is not small and cannot be ignored. New England IPAs, for example, are massively hopped in the whirlpool and achieve much of their bitterness after the boil. Some brewing software addresses whirlpool additions via a user-specified factor that expresses whirlpool utilization as a percentage of the same quantity of hops boiled traditionally. Perhaps you have the same question as I had: “How am I supposed to know which factor to use for all possible whirlpool conditions?”</p>
<p>The answer is simple: you can’t! What works for an addition at 85<sup>o</sup> C (185<sup>o</sup> F) for 20 minutes won’t work for an addition at 70<sup>o</sup> C (158<sup>o</sup> F) for 20 minutes, and so on. Therefore, you must rely on experience with your procedure and adjust according to your observations. Or, you must rely on the experiences of other brewers who use different procedures and equipment; obviously this is an even less dependable option.</p>
</section>
<section id="reviewing-ibu-calculations" class="level1">
<h1>Reviewing IBU Calculations</h1>
<p>Now, you probably agree with me that neither of these approaches is ideal. The best approach should be reliable, should be general, and should allow the brewer to estimate the IBU level of every possible hop addition (even those that have not yet been developed) consistently and without further need of user-defined factors. Instead of trying to bend the traditional approach to new methods, I took a step back to fundamentals. Focusing on iso-alpha acids in next few paragraphs, I will briefly review where they come from and what affects their final level in beer.</p>
<section id="isomerization" class="level2">
<h2 class="anchored" data-anchor-id="isomerization">Isomerization</h2>
<p>The journey of iso-alpha acids begins in our hops. Hops contain alpha acids that usually make up 4 to 12 percent of their mass. After alpha acids are extracted from hops in hot wort (or water), they undergo isomerization and become iso-alpha acids. Isomerization is believed to be the rate-limiting step of this process.<sup>2,3</sup> This means that if you have multiple reactions and/or processes that share the same pathway, the overall rate of the process depends on the rate of the slowest step.</p>
<p>Imagine a road trip on a narrow highway where no passing is possible. Your speed will depend on the slowest car on the road, no matter how fast your car is. Isomerization is a rate-limiting step on the pathway from hop alpha acids to iso-alpha acids in wort that allows us to neglect extraction in the description of the process.</p>
<p>In fact, there is more going on than that, because iso-alpha acids also undergo degradation. <sup>2,3,4</sup> Occasionally, you will find a source that says degradation starts after 60 minutes of boiling. In fact. this unwanted reaction begins when the first iso-alpha acids are formed and ends when all of them have been degraded. What these sources mean to say is that the rate of isomerization is greater than the rate of degradation in the first 60 minutes of the boil, roughly speaking. Thus, iso-alpha acid concentration increases at the beginning, reaches its maximum when the overall rate of isomerization and degradation equals, and then starts to decrease when little alpha acid is left to isomerize and the rate of degradation outpaces that of isomerization.</p>
<p>Maximum iso-alpha acid formation is achieved after 60 to 80 minutes of boil time. This is the reason that a drop in IBUs is usually not much of a concern, but degradation could have negative effects if the boil is allowed to continue. Degradation itself plays an important role in the self-limiting behavior of alpha acid isomerization. It is a natural constraint that makes 100 percent utilization impossible.</p>
<p>Tinseth’s equation assumes isomerization and neglects degradation. The solution takes the form of an exponential function, which is the basis of Tinseth’s formulae. Because it neglects degradation, limits must be forced by artificial correction in the form of a factor that restricts utilization.</p>
<p>But we can go a step further and account for degradation in a form that makes fewer assumptions about the processes and yields more general results. In such a formulation, the chemical pathway of the process has the following reaction scheme:</p>
<p><span class="math display">\[\ce{A -&gt; B -&gt; C}\]</span></p>
<p><span class="math display">\[\text{alpha acids} \rightarrow \text{iso-alpha acids} \rightarrow \text{degradation products}\]</span></p>
<p>In terms of chemistry, this process represents one of the most popular problems that every student of chemistry encounters in kinetic classes. This problem forms a set of differential equations that have a mathematical solution. For the sake of simplicity, it is enough to understand that this problem has a relatively simple solution for those who are trained chemists and mathematicians. It is even relatively simple to account for temperature, and necessary data can be found in the literature.<sup>2,5</sup> At the end, from the numerical solution of this problem, you can find the desired result: iso-alpha acid concentration. In other words, IBUs.</p>
</section>
<section id="losses-of-ibus-in-the-brewing-process" class="level2">
<h2 class="anchored" data-anchor-id="losses-of-ibus-in-the-brewing-process">Losses of IBUs in the brewing process</h2>
<p>Unfortunately, our bittering compounds also experience losses, which must take into account. Some iso-alpha acids are lost through adsorption from trub (20 to 30 percent) and adsorption from yeast (10 to 30 percent).<sup>6</sup> Therefore, we can expect the final IBU equation to take a general form:</p>
<p><span class="math display">\[
\ce{IBU = (1 – TF) \cdot (1 – YF) \cdot C_B}
\]</span></p>
<p>Where <span class="math inline">\(\ce{C_B}\)</span> is a concentration of iso-alpha acids after the boil, which is found kinetically as described above. Two unknown factors, <span class="math inline">\(\ce{YF}\)</span> and <span class="math inline">\(\ce{TF}\)</span>, account for losses in yeast and trub (cold break), respectively. Not surprisingly, our next goal is evaluate those parameters.</p>
<p>This is actually the hardest part of the problem because literature data are very limited. The IBUs lost to adsorption by cold break depends on the amount of trub itself and, therefore, ultimately on wort concentration. This leads us to consider the effect of beer gravity on hop utilization.</p>
<p>At this point, it is reasonable to use Tinseth’s work as the source. In Tinseth’s formulae, this effect is hidden in a relatively complicated power function that can be simplified to a linear function with no harm to overall accuracy. That type of dependency also has support in the literature.<sup>5</sup> In this case, the effect of adsorption on cold break can be described as follows:</p>
<p><span class="math display">\[
\mathrm{1 - TF = 1 - 0.028 \cdot ^o P}
\]</span></p>
<p>The last pieces of the puzzle are losses due to the adsorption on yeast biomass. Even with literature data available, it is hard to find a general trend in this matter. For some yeast strains, loss depends on wort gravity (in other words on the amount of yeast biomass), while for other strains, it does not.<sup>7</sup></p>
<p>Literature sources agree that losses from yeast biomass can be anywhere from roughly 10 to 30 percent, and most often near 20 to 25 percent. Therefore, it makes the most sense try to match results of a new approach with Tinseth’s formula again, specifically for traditional hopping regimens for which the Tinseth equation is valid. The factor <span class="math inline">\(\ce{YF}\)</span> was found as a result of such a matching process, and its value of 0.23 agrees well with the expected value of 20 to 25 percent.</p>
<div class="callout callout-style-simple callout-none no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
THE FULL IBU MODEL
</div>
</div>
<div class="callout-body-container callout-body">
<p>For completeness’ sake, here is the full model for those who are interested.</p>
<p><span class="math display">\[
\ce{IBU=(1-0.23) \cdot (1-0.028 \cdot ^o P) \cdot C_B}
\]</span></p>
<p>where <span class="math inline">\(\ce{C_B}\)</span> is the concentration of iso-alpha acids after the boil and is a (usually numerical) solution to the following set of ordinary differential equations (ODEs):</p>
<table class="table">
<colgroup>
<col style="width: 61%">
<col style="width: 38%">
</colgroup>
<thead>
<tr class="header">
<th>Equation</th>
<th>Initial condition at <span class="math inline">\(t = 0\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(\frac{dC_A}{d_t}= -k_1 C_A +(C_A^{addition})\)</span></td>
<td><span class="math inline">\(C_A(0) = C_{A0}\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(\frac{dC_B}{dt}=k_1C_A - k_2C_B\)</span></td>
<td><span class="math inline">\(C_B(0)=C_{Bo}\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(\frac{dC_C}{dt}=k_2C_B\)</span></td>
<td><span class="math inline">\(C_C(0)=C_{C0}\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(\frac{dT}{dt}=f(t)\)</span></td>
<td><span class="math inline">\(T(0)=T_0\)</span></td>
</tr>
</tbody>
</table>
<p><span class="math display">\[
k_1(T) =0,02085 \cdot e^{-11858(\frac{1}{T}-\frac{1}{373,15})}
\]</span></p>
<p><span class="math display">\[
k_2(T) =0,00952 \cdot e^{-12994(\frac{1}{T}-\frac{1}{373,15})}
\]</span></p>
<p>The activation energies are obtained from the literature, with rate constants for hop pellets refitted from published data.<sup>2,5</sup> Hop additions are introduced at certain times as their corresponding concentration, <span class="math inline">\(C_A^{addition}\)</span>. If there’s no addition at that time, then this variable is zero. The temperature profile <span class="math inline">\(f(t)\)</span> is user input and must be specified prior to calculation.</p>
<p>The basic and appropriate procedure is to set up a table of important temperatures during hopping and then use a linear interpolation for everything that falls between specified points (see Table 1 for an example). It is also possible to use a user-defined temperature function that describes a particular brewing system, for example, cooling. At this level of accuracy, basic ODE numerical methods like the Euler method can be used, but higher order methods like Runge-Kutta can be used as well.</p>
<p>Concentrations of alpha acids are calculated as <span class="math inline">\(C_A =\frac{m \cdot \alpha}{V}\)</span>. where <span class="math inline">\(m\)</span> is hop mass, <span class="math inline">\(\alpha\)</span> is alpha acid content of the hop variety, and <span class="math inline">\(V\)</span> is volume of cold wort after the boil (before removing cold break and trub). This model is based on using hop pellets. One may estimate the result for hop cones by multiplying the final result by 0.909.</p>
</div>
</div>
<p>This has a couple of consequences. It implies that we might have found an appropriate model because the new method describes the full iso-alpha acid journey. For traditional hopping schemes, the new model yields almost the same result as Tinseth’s method, demonstrating backward compatibility. For less than 60 minutes of boiling, the methods agree to within 2 percent. The strengths of the new method will become apparent when we introduce hop additions below the boiling point and in shorter or longer boils.</p>
<p>In other words, the new method is a generalization of Tinseth data. It is based on a fundamental understanding of the process and is general enough to be used for any hopping scheme without further need for user-defined factors. The chemistry-based form is a backbone of the method. If better literature data become available in future, kinetic parameters can be simply adjusted, and the method would be independent of the Tinseth formula.</p>
</section>
</section>
<section id="case-study" class="level1">
<h1>Case study</h1>
<p>The advantages and strength of this model can be demonstrated with an example of a hopping scheme involving FWH and whirlpool hops. Fortunately, using this method doesn’t mean you need to solve a complicated mathematical problem.</p>
<p>Two possible user-friendly options are available. I developed an Excel-based spreadsheet that automatically calculates IBUs and other variables from user input. The code is open and available for anyone to use. A friend of mine also recently developed a web-based calculator on his site <a href="https://www.homebrewmap.com/en/">homebrewmap.com</a>. I highly encourage readers to try out one of these options to get a feel for it.</p>
<p>The following example was calculated using the spreadsheet. The recipe is based on 20 L (5.28 gal.) of final kettle volume, following cooling but before draining. The hopping scheme can be found in Table 1 and represents the required user input.</p>
<p>Each row in the table represents an important event: either a hop addition or a temperature step. Between rows, a linear temperature profile is assumed. Therefore, it is appropriate to also use data points without hop additions to further refine the temperature profile.</p>
<p>To record the influence of whirlpool temperature, the original scenario was modified and calculated for different temperatures. For example, the difference in the scheme for whirlpooling at 95<sup>o</sup> C (203<sup>o</sup> F) is shown in Table 2.</p>
<p>It is obvious that Tinseth’s formula gives us virtually the same result at the end of the boil (Fig. 2). During cooling and whirlpool hopping, a 9 IBU increase was achieved for the original scenario, which could represent a significant difference in the taste of the final beer. The temperature of 65<sup>o</sup> C (149<sup>o</sup> F) can be assigned as a cut-off temperature: the IBU contribution at lower temperatures is negligible.</p>
<p>In comparison, a popular brewing software package was also used to estimate IBUs for the same beer, which yielded 51 to 56 IBUs. The Tinseth formula was employed using the default 50% correction coefficient for whirlpool additions. This approach is meant to be appropriate for whirlpool additions above 85° C (185° F), while those under 85<sup>o</sup> C can be neglected. If we consider whirlpooling at 85<sup>o</sup> C exactly with our new model, we get 54 IBUs, which is virtually identical to that predicted by the software. This suggests the software approach is valid at 85<sup>o</sup> C, but changing the whirlpool conditions yields a wide range of calculated results.</p>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>It might appear that this is a rigorous and final answer to beer bitterness, but it is not. IBUs are just a part of the whole bitterness equation that includes a variety of other contributions from other hop compounds (polyphenols, alpha acids, etc.) and from other ingredients like water and malt. Unfortunately, it is impossible to quantify all contributions to any comprehensive variable that could help brewers with recipe formulation. Therefore, the IBU remains a useful metric because it usually correlates well with perceived bitterness.</p>
<p>If used properly, the presented method can offer brewers a reliable estimation of IBUs for a variety of different hopping practices, including first-wort hopping, extensive late hopping, and whirlpool hopping. With developed calculators, the estimation itself requires similar user input as other common calculation practices. In addition to commonly required variables, the temperature profile must be specified or estimated. This is data that brewers already have or can simply obtain during brewing.</p>
<p>Any IBU calculation - and this method is no exception - is only an estimate with a variable level of accuracy, and no one claims otherwise. The level of accuracy is influenced by many factors. We can improve some of them with our brewing practices, such as accurate measurement of volume, time, mass, temperature, condition of hops storage, etc. Other factors can vary from brewer to brewer, but the IBU is not a lie! It is an estimate that helps us design and brew great beers. We should not overthink its meaning, but we should not underestimate it either.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="tabel1.png" class="img-fluid figure-img"></p>
<figcaption>Table 1: Sample Temperature Profile with Hop Additions</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="tabel2.png" class="img-fluid figure-img"></p>
<figcaption>Table 2: Whirlpool at 95<sup>o</sup>C</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="fig1.png" class="img-fluid figure-img"></p>
<figcaption>Figure 1: The Self-Limiting Nature of Isomerization. Data calculated by Tinseth equation (red curve) and the new model presented in this article (blue curve). Results contain correction for losses.</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="fig2.png" class="img-fluid figure-img"></p>
<figcaption>Figure 2: IBU and Temperature Profiles for Original Scenario Using the New Model and Tinseth’s Formula.</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="fig3.png" class="img-fluid figure-img"></p>
<figcaption>Figure 3: Whirlpool Hopping at Different Temperatures.</figcaption>
</figure>
</div>
</section>
<section id="resources" class="level1">
<h1>Resources</h1>
<ol type="1">
<li>G. Tinseth, Tinseth formulae, (1997). http://www.realbeer.com/hops/research.html (accessed September 12, 2016).</li>
<li>Mark G. Malowicki and and Thomas H. Shellhammer, Isomerization and Degradation Kinetics of Hop (Humulus lupulus) Acids in a Model Wort-Boiling System, Journal of Agricultural and Food Chemistry 2005 53 (11), 4434-4439. doi: 10.1021/jf0481296.</li>
<li>S. Kappler, M. Krahl, C. Geissinger, T. Becker and M. Krottenthaler. (2010), Degradation of Iso-α-Acids During Wort Boiling. Journal of the Institute of Brewing, 116: 332-338. doi:10.1002/j.2050-0416.2010.tb00783.x</li>
<li>B. Jaskula, Hopping Technology in Relation to Beer Bitterness Consistency and Flavor Stability, J. Am. Soc. Brew. Chem. 65 (2007) 38-46.</li>
<li>G. Basařová, J. Šavel, P. Basař, T. Lejsek, Pivovarstvi: Teorie a praxe výroby piva, 1st ed., VŠCHT, Praha, 2010.</li>
<li>B.J.S. Hough, J.R. Hudson, Brewing Industry Research Foundation, Nature. 181 (1958) 810-810. doi:10.1038/181810c0.</li>
</ol>
<p><strong>Petr Novotný is a Ph.D.&nbsp;candidate in Chemical Engineering at North Carolina State University, an AHA member, and co-founder of the Czech Homebrewers Guild.</strong></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    const typesetMath = (el) => {
      if (window.MathJax) {
        // MathJax Typeset
        window.MathJax.typeset([el]);
      } else if (window.katex) {
        // KaTeX Render
        var mathElements = el.getElementsByClassName("math");
        var macros = [];
        for (var i = 0; i < mathElements.length; i++) {
          var texText = mathElements[i].firstChild;
          if (mathElements[i].tagName == "SPAN") {
            window.katex.render(texText.data, mathElements[i], {
              displayMode: mathElements[i].classList.contains('display'),
              throwOnError: false,
              macros: macros,
              fleqn: false
            });
          }
        }
      }
    }
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        for (let i = 0; i < 2; i++) {
          container.appendChild(note.children[i].cloneNode(true));
        }
        typesetMath(container);
        return container.innerHTML
      } else {
        typesetMath(note);
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      typesetMath(note);
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/bwelman\.github\.io\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Deze website is gemaakt met <a href="https://quarto.org/">Quarto</a>.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>